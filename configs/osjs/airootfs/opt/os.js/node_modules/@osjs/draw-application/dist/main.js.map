{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///webpack://osjsGui/webpack/universalModuleDefinition","webpack:///webpack://osjsGui/webpack/bootstrap","webpack:///webpack://osjsGui/node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///webpack://osjsGui/node_modules/@babel/runtime/helpers/typeof.js","webpack:///webpack://osjsGui/node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///webpack://osjsGui/node_modules/@babel/runtime/helpers/createClass.js","webpack:///webpack://osjsGui/node_modules/@babel/runtime/regenerator/index.js","webpack:///webpack://osjsGui/node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///webpack://osjsGui/node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///webpack://osjsGui/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///webpack://osjsGui/node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///webpack://osjsGui/node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///webpack://osjsGui/node_modules/regenerator-runtime/runtime-module.js","webpack:///webpack://osjsGui/node_modules/regenerator-runtime/runtime.js","webpack:///webpack://osjsGui/node_modules/hyperapp/src/index.js","webpack:///webpack://osjsGui/src/components/Element.js","webpack:///webpack://osjsGui/src/components/Box.js","webpack:///webpack://osjsGui/src/components/BoxContainer.js","webpack:///webpack://osjsGui/src/components/BoxStyled.js","webpack:///webpack://osjsGui/src/components/Icon.js","webpack:///webpack://osjsGui/src/utils.js","webpack:///webpack://osjsGui/src/element.js","webpack:///webpack://osjsGui/src/components/Button.js","webpack:///webpack://osjsGui/src/components/Progressbar.js","webpack:///webpack://osjsGui/src/components/Menu.js","webpack:///webpack://osjsGui/src/components/Toolbar.js","webpack:///webpack://osjsGui/src/components/Statusbar.js","webpack:///webpack://osjsGui/src/components/Menubar.js","webpack:///webpack://osjsGui/node_modules/hyperapp-nestable/src/index.js","webpack:///webpack://osjsGui/src/components/Panes.js","webpack:///webpack://osjsGui/src/components/ListView.js","webpack:///webpack://osjsGui/src/components/IconView.js","webpack:///webpack://osjsGui/src/components/Image.js","webpack:///webpack://osjsGui/src/components/Video.js","webpack:///webpack://osjsGui/src/components/Tabs.js","webpack:///webpack://osjsGui/src/components/Iframe.js","webpack:///webpack://osjsGui/src/components/TextField.js","webpack:///webpack://osjsGui/src/components/TextareaField.js","webpack:///webpack://osjsGui/src/components/SelectField.js","webpack:///webpack://osjsGui/src/components/ToggleField.js","webpack:///webpack://osjsGui/src/components/RangeField.js","webpack:///webpack://osjsGui/src/contextmenu.js","webpack:///webpack://osjsGui/src/provider.js","webpack:///webpack://osjsGui/src/umd.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./src/icons/stock-cursor-16.png","webpack:///./src/icons/stock-color-pick-from-screen-16.png","webpack:///./src/icons/stock-tool-bucket-fill-16.png","webpack:///./src/icons/stock-tool-path-16.png","webpack:///./src/icons/stock-tool-pencil-16.png","webpack:///./src/icons/stock-shape-rectangle-16.png","webpack:///./src/icons/stock-shape-square-16.png","webpack:///./src/icons/stock-shape-ellipse-16.png","webpack:///./src/icons/stock-shape-circle-16.png","webpack:///./node_modules/hyperapp/src/index.js","webpack:///./src/tool.js","webpack:///./src/canvas.js","webpack:///./src/popup.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","e","default","arrayWithoutHoles","require","iterableToArray","nonIterableSpread","arr","_typeof2","obj","iterator","constructor","_typeof","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","configurable","writable","protoProps","staticProps","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","fn","self","this","args","arguments","apply","err","undefined","Array","isArray","arr2","iter","toString","from","g","Function","hadRuntime","regeneratorRuntime","getOwnPropertyNames","indexOf","oldRuntime","global","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","inModule","runtime","wrap","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","GeneratorFunctionPrototype","Generator","GeneratorFunction","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","__await","defineIteratorMethods","AsyncIterator","async","innerFn","outerFn","tryLocsList","next","result","keys","push","reverse","pop","Context","reset","skipTempReset","prev","sent","_sent","delegate","method","tryEntries","forEach","resetTryEntry","charAt","isNaN","slice","stop","rootRecord","completion","type","rval","dispatchException","exception","context","handle","loc","caught","record","entry","tryLoc","hasCatch","hasFinally","catchLoc","finallyLoc","Error","abrupt","finallyEntry","complete","afterLoc","finish","catch","thrown","delegateYield","iterable","resultName","nextLoc","protoGenerator","generator","_invoke","state","doneResult","delegateResult","maybeInvokeDelegate","tryCatch","previousPromise","callInvokeWithMethodAndArg","invoke","unwrapped","return","pushTryEntry","locs","iteratorMethod","h","attributes","rest","children","node","nodeName","app","actions","view","container","skipRender","map","rootElement","oldNode","recycleElement","element","toLowerCase","childNodes","nodeType","nodeValue","lifecycle","isRecycling","globalState","clone","wiredActions","wireStateToActions","path","action","data","getPartialState","scheduleRender","setPartialState","concat","resolveNode","render","patch","parent","isSvg","newElement","createElement","document","createTextNode","createElementNS","oncreate","appendChild","updateAttribute","insertBefore","removeElement","oldAttributes","cb","onupdate","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","getKey","k","newKey","keyedNode","setTimeout","source","out","eventListener","event","currentTarget","events","oldValue","style","cssText","setProperty","addEventListener","removeEventListener","setAttribute","removeAttribute","removeChild","removeChildren","ondestroy","onremove","unitValue","unset","boxPropNames","grow","flexGrow","shrink","flexShrink","basis","flexBasis","align","alignItems","justify","justifyContent","padding","margin","Element","givenClassNames","class","classNames","orientation","defaultStyle","assign","reduce","prop","filter","join","Box","BoxContainer","BoxStyled","Icon","data-icon","typeof_default","backgroundImage","filteredProps","filterKeys","doubleTap","timer","timeout","tapped","ev","clearTimeout","preventDefault","createField","defaultProps","cbInput","oninput","onchange","onkeydown","getValue","fieldProps","keyCode","onenter","box","Button","inner","icon","label","Progressbar","Math","max","abs","className","width","String","Menu","id","display","visible","top","position","left","ul","level","child","disabled","checked","items","data-has-image","data-has-children","onmouseover","onshow","ontouchend","onclick","menu","Toolbar","Statusbar","MenubarItem","parentNode","index","Menubar","toConsumableArray_default","item","nestable","tagname","_$r","el","wired","a","v","_$p","_$c","_$u","uninit","init","sizes","setSize","size","spacers","ceil","fill","onmousedown","clientX","clientY","pane","previousSibling","offsetWidth","offsetHeight","maxWidth","maxHeight","mousemove","diffX","min","diffY","mouseup","w","flex","b","panes","Panes","tapper","ListView","col","hideColumns","rows","paneIndex","row","rowIndex","columns","selected","selectedIndex","colIcon","unshift","data-has-icon","ontouchstart","onactivate","ondblclick","onselect","oncontextmenu","scrollTop","createView","listView","component","newProps","select","setSelectedIndex","activate","contextmenu","created","setRows","setColumns","setScrollTop","IconViewEntry","IconView","entries","iconView","setEntries","Image","height","src","onload","isTrue","Video","poster","loop","muted","controls","autoplay","onloadeddata","list","sources","labels","Tabs","Iframe","frameborder","TextField","autocomplete","autocorrect","autocapitalize","spellcheck","TextareaField","SelectField","choices","textContent","ToggleField","JSON","parse","RangeField","ContextMenu","core","classCallCheck_default","callback","it","clampTimeout","clamp","root","_this","$root","newPosition","currentPosition","bottom","right","offY","offX","overflowRight","overflowBottom","querySelector","classList","contains","offsetParent","remove","getBoundingClientRect","add","show","options","Event","hide","destroyed","_this$actions","_this$actions2","validContextMenuTarget","isValid","tagName","GUIServiceProvider","getElementById","destroy","nt","Z","contextmenuApi","_this$contextmenu","_this$contextmenu2","stopPropagation","_this2","arrayWithHoles","iterableToArrayLimit","nonIterableRest","_arr","_n","_d","_e","_s","_i","updateElement","tools","pointer","picker","mousedown","_ref","start","px","parseInt","x","py","y","getImageData","hex","val","padStart","rgbToHex","shiftKey","button","setBackground","setForeground","_ref2","tool","fillStyle","fillRect","_ref3","tempContext","strokeStyle","foreground","_ref4","current","clearRect","beginPath","moveTo","lineTo","closePath","stroke","pencil","_ref5","_ref6","rect","_ref7","diff","strokeRect","square","_ref8","oval","_ref9","bezierCurveTo","circle","_ref10","sqrt","pow","arc","PI","createCanvas","canvas","getContext","popupTypes","resize","image","setWidth","setHeight","createResizePopup","getImage","createApplication","proc","win","$content","vfs","make","popup","found","dialog","buttons","title","modal","gravity","dimension","getState","btn","dwin","_found","_found2","slicedToArray_default","initialState","initialActions","focus","popupFactory","colorDialog","color","basic","defaultFilename","_createCanvas","_createCanvas2","_createCanvas3","_createCanvas4","tempCanvas","setCanvasSize","background","lineWidth","menuFile","menuNew","menuOpen","menuSave","menuSaveAs","menuQuit","createFileMenu","file","menuImage","menuResizeImage","menuResizeCanvas","createImageMenu","createNew","createOpenDialog","save","createSaveDialog","_createCanvas5","_createCanvas6","cv","drawImage","resizeCanvasScale","_createCanvas7","_createCanvas8","resizeCanvasSize","buttonForeground","buttonBackground","buttonTool","setTool","loadImage","url","img","setCanvasImage","toBlob","blob","writefile","console","load","setStroke","setLineWidth","getTool","resource","active","createToolButtons","backgroundColor","1","2","3","4","5","currentTool","canvasPosition","toolAction","onmousemove","onmouseup","createCanvasActions","on","isFile","mime","metadata","mimes","find","RegExp","test","open","OSjs","register","createWindow","en_EN"],"mappings":"aACA,IAAAA,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,IACAG,EAAAH,EACAI,GAAA,EACAH,YAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,aAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA,qBCzECC,OAPDjC,UAQA,SAAAmB,GCTA,IAAAO,KAGA,SAAAQ,EAAAnB,GAGA,GAAAW,EAAAX,GACA,OAAAW,EAAAX,GAAAhB,QAGA,IAAAW,EAAAgB,EAAAX,IACAd,IACAC,KACAH,YAUA,OANAI,mCAGAH,OAGAU,EAAAX,QA0DA,OArDAF,MAGAA,MAGAA,oBACAA,UACAc,2BAA0CE,uBAK1ChB,gBACA,oBAAAmB,eAAAC,aACAN,4CAAwDO,iBAExDP,sCAAiDO,YAQjDrB,kBAEA,GADA,EAAA6B,IAAAP,EAAAe,EAAAf,IACA,EAAAO,EAAA,OAAAP,EACA,KAAAO,GAAA,iBAAAP,QAAAE,WAAA,OAAAF,EACA,IAAAJ,EAAAJ,OAAAY,OAAA,MAGA,GAFA1B,OACAc,mCAAyCE,wBACzC,EAAAa,GAAA,iBAAAP,EAAA,QAAAT,KAAAS,EAAAe,EAAA3B,EAAAQ,EAAAL,EAAA,SAAAgB,GAAgH,OAAAP,EAAAO,IAAqBD,cACrI,OAAAV,GAIAlB,gBACA,IAAA6B,EAAAP,KAAAE,WACA,WAA2B,OAAAF,EAAAgB,SAC3B,WAAiC,OAAAhB,GAEjC,OADAtB,aACA6B,GAIA7B,kBAAsD,OAAAc,OAAAkB,UAAAC,eAAA1B,KAAAe,EAAAO,IAGtD7B,OAIAqC,IAAAF,EAAA,GDxEA,ECwEA,SAAAb,EAAAO,EAAAQ,GClFA,IAAIE,EAAoBC,EAAQ,IAE5BC,EAAkBD,EAAQ,IAE1BE,EAAoBF,EAAQ,IAMhCrC,EAAOD,QAJP,SAA4ByC,GAC1B,OAAOJ,EAAkBI,IAAQF,EAAgBE,IAAQD,oBCP3D,SAASE,EAASC,GAA4T,OAA1OD,EAArD,mBAAXzB,QAAoD,iBAApBA,OAAO2B,SAAoC,SAAkBD,GAAO,cAAcA,GAA4B,SAAkBA,GAAO,OAAOA,GAAyB,mBAAX1B,QAAyB0B,EAAIE,cAAgB5B,QAAU0B,IAAQ1B,OAAOa,UAAY,gBAAkBa,IAA0BA,GAE9V,SAASG,EAAQH,GAWf,MAVsB,mBAAX1B,QAAuD,WAA9ByB,EAASzB,OAAO2B,UAClD3C,EAAOD,QAAU8C,EAAU,SAAiBH,GAC1C,OAAOD,EAASC,IAGlB1C,EAAOD,QAAU8C,EAAU,SAAiBH,GAC1C,OAAOA,GAAyB,mBAAX1B,QAAyB0B,EAAIE,cAAgB5B,QAAU0B,IAAQ1B,OAAOa,UAAY,SAAWY,EAASC,IAIxHG,EAAQH,GAGjB1C,EAAOD,QAAU8C,iBCVjB7C,EAAOD,QANP,SAAyB+C,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,gDAAA7B,EAAAO,GCFxB,SAASuB,EAAkBC,EAAQC,GACjC,IAAK,IAAIlD,EAAI,EAAGA,EAAIkD,EAAMC,OAAQnD,IAAK,CACrC,IAAIoD,EAAaF,EAAMlD,GACvBoD,EAAWxC,WAAawC,EAAWxC,eACnCwC,EAAWC,gBACP,UAAWD,IAAYA,EAAWE,aACtC5C,OAAOC,eAAesC,EAAQG,EAAW7B,IAAK6B,IAUlDrD,EAAOD,QANP,SAAsBgD,EAAaS,EAAYC,GAG7C,OAFID,GAAYP,EAAkBF,EAAYlB,UAAW2B,GACrDC,GAAaR,EAAkBF,EAAaU,GACzCV,oBCbT/C,EAAOD,QAAUsC,EAAQ,cAAAlB,EAAAO,GCezB1B,EAAOD,QAfP,SAAyB2C,EAAKlB,EAAKN,GAYjC,OAXIM,KAAOkB,EACT/B,OAAOC,eAAe8B,EAAKlB,GACzBN,MAAOA,EACPL,cACAyC,gBACAC,cAGFb,EAAIlB,GAAON,EAGNwB,kBCZT,SAASgB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQvC,EAAKwC,GACpE,IACE,IAAIC,EAAON,EAAInC,GAAKwC,GAChB9C,EAAQ+C,EAAK/C,MACjB,MAAOgD,GAEP,YADAL,EAAOK,GAILD,EAAKE,KACPP,EAAQ1C,GAERkD,QAAQR,QAAQ1C,GAAOmD,KAAKP,EAAOC,GAwBvC/D,EAAOD,QApBP,SAA2BuE,GACzB,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIN,QAAQ,SAAUR,EAASC,GACpC,IAAIF,EAAMW,EAAGK,MAAMJ,EAAME,GAEzB,SAASX,EAAM5C,GACbwC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQ7C,GAGlE,SAAS6C,EAAOa,GACdlB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASa,GAGnEd,eAAMe,mDPmDZ,COnDYA,cCrBZ7E,EAAOD,QAVP,SAA4ByC,GAC1B,GAAIsC,MAAMC,QAAQvC,GAAM,CACtB,IAAK,IAAIvC,EAAI,EAAG+E,EAAO,IAAIF,MAAMtC,EAAIY,QAASnD,EAAIuC,EAAIY,OAAQnD,IAC5D+E,EAAK/E,GAAKuC,EAAIvC,GAGhB,OAAO+E,mBCFXhF,EAAOD,QAJP,SAA0BkF,GACxB,GAAIjE,OAAO2B,YAAYhC,OAAOsE,IAAkD,uBAAzCtE,OAAOkB,UAAUqD,SAAS9E,KAAK6E,GAAgC,OAAOH,MAAMK,KAAKF,mBCG1HjF,EAAOD,QAJP,WACE,MAAM,IAAIiD,UAAU,8DAAA7B,EAAAO,EAAAQ,GCQtB,IAAIkD,EAAK,WACP,OAAOZ,MAAyB,iBAATD,MAAqBA,KADrC,IAEDc,0BAIJC,EAAaF,EAAEG,oBACjB5E,OAAO6E,oBAAoBJ,GAAGK,QAAQ,uBAAyB,EAG7DC,EAAaJ,GAAcF,EAAEG,mBAOjC,GAJAH,EAAEG,0BAEFvF,EAAOD,QAAUsC,EAAQ,IAErBiD,EAEFF,EAAEG,mBAAqBG,OAGvB,WACSN,EAAEG,mBACT,MAAMrD,GACNkD,EAAEG,4BAAqBV,eC3BzB,SAASc,GACT,aAEA,IAEId,EAFAe,EAAKjF,OAAOkB,UACZgE,EAASD,EAAG9D,eAEZgE,EAA4B,mBAAX9E,OAAwBA,UACzC+E,EAAiBD,EAAQnD,UAAY,aACrCqD,EAAsBF,EAAQG,eAAiB,kBAC/CC,EAAoBJ,EAAQ7E,aAAe,gBAE3CkF,EAA6B,iBAAXnG,EAClBoG,EAAUT,EAAOJ,mBACrB,GAAIa,EACED,IAGFnG,EAAOD,QAAUqG,OAJrB,EAaAA,EAAUT,EAAOJ,mBAAqBY,EAAWnG,EAAOD,YAchDsG,KAAOA,EAoBf,IAAIC,EAAyB,iBACzBC,EAAyB,iBACzBC,EAAoB,YACpBC,EAAoB,YAIpBC,KAYAC,KACJA,EAAkBZ,GAAkB,WAClC,OAAOvB,MAGT,IAAIoC,EAAWjG,OAAOkG,eAClBC,EAA0BF,GAAYA,EAASA,EAASG,QACxDD,GACAA,IAA4BlB,GAC5BC,EAAOzF,KAAK0G,EAAyBf,KAGvCY,EAAoBG,GAGtB,IAAIE,EAAKC,EAA2BpF,UAClCqF,EAAUrF,UAAYlB,OAAOY,OAAOoF,GACtCQ,EAAkBtF,UAAYmF,EAAGpE,YAAcqE,EAC/CA,EAA2BrE,YAAcuE,EACzCF,EAA2Bf,GACzBiB,EAAkBC,YAAc,oBAYlChB,EAAQiB,oBAAsB,SAASC,GACrC,IAAIC,EAAyB,mBAAXD,GAAyBA,EAAO1E,YAClD,QAAO2E,IACHA,IAASJ,GAG2B,uBAAnCI,EAAKH,aAAeG,EAAK/G,QAIhC4F,EAAQoB,KAAO,SAASF,GAUtB,OATI3G,OAAO8G,eACT9G,OAAO8G,eAAeH,EAAQL,IAE9BK,EAAOI,UAAYT,EACbf,KAAqBoB,IACzBA,EAAOpB,GAAqB,sBAGhCoB,EAAOzF,UAAYlB,OAAOY,OAAOyF,GAC1BM,GAOTlB,EAAQuB,MAAQ,SAAS3D,GACvB,OAAS4D,QAAS5D,IAsEpB6D,EAAsBC,EAAcjG,WACpCiG,EAAcjG,UAAUmE,GAAuB,WAC7C,OAAOxB,MAET4B,EAAQ0B,cAAgBA,EAKxB1B,EAAQ2B,MAAQ,SAASC,EAASC,EAAS1D,EAAM2D,GAC/C,IAAIjD,EAAO,IAAI6C,EACbzB,EAAK2B,EAASC,EAAS1D,EAAM2D,IAG/B,OAAO9B,EAAQiB,oBAAoBY,GAC/BhD,EACAA,EAAKkD,OAAO9D,KAAK,SAAS+D,GACxB,OAAOA,EAAOjE,KAAOiE,EAAOlH,MAAQ+D,EAAKkD,UAsKjDN,EAAsBb,GAEtBA,EAAGd,GAAqB,YAOxBc,EAAGjB,GAAkB,WACnB,OAAOvB,MAGTwC,EAAG9B,SAAW,WACZ,MAAO,sBAkCTkB,EAAQiC,KAAO,SAAS1G,GACtB,IAAI0G,KACJ,IAAK,IAAI7G,KAAOG,EACd0G,EAAKC,KAAK9G,GAMZ,OAJA6G,EAAKE,UAIE,SAASJ,IACd,KAAOE,EAAKjF,QAAQ,CAClB,IAAI5B,EAAM6G,EAAKG,MACf,GAAIhH,KAAOG,EAGT,OAFAwG,EAAKjH,MAAQM,EACb2G,EAAKhE,QACEgE,EAQX,OADAA,EAAKhE,QACEgE,IAsCX/B,EAAQW,OAASA,EAMjB0B,EAAQ5G,WACNe,YAAa6F,EAEbC,MAAO,SAASC,GAcd,GAbAnE,KAAKoE,KAAO,EACZpE,KAAK2D,KAAO,EAGZ3D,KAAKqE,KAAOrE,KAAKsE,MAAQjE,EACzBL,KAAKL,QACLK,KAAKuE,SAAW,KAEhBvE,KAAKwE,OAAS,OACdxE,KAAKR,IAAMa,EAEXL,KAAKyE,WAAWC,QAAQC,IAEnBR,EACH,IAAK,IAAInI,KAAQgE,KAEQ,MAAnBhE,EAAK4I,OAAO,IACZvD,EAAOzF,KAAKoE,KAAMhE,KACjB6I,OAAO7I,EAAK8I,MAAM,MACrB9E,KAAKhE,GAAQqE,IAMrB0E,KAAM,WACJ/E,KAAKL,QAEL,IACIqF,EADYhF,KAAKyE,WAAW,GACLQ,WAC3B,GAAwB,UAApBD,EAAWE,KACb,MAAMF,EAAWxF,IAGnB,OAAOQ,KAAKmF,MAGdC,kBAAmB,SAASC,GAC1B,GAAIrF,KAAKL,KACP,MAAM0F,EAGR,IAAIC,EAAUtF,KACd,SAASuF,EAAOC,EAAKC,GAYnB,OAXAC,EAAOR,KAAO,QACdQ,EAAOlG,IAAM6F,EACbC,EAAQ3B,KAAO6B,EAEXC,IAGFH,EAAQd,OAAS,OACjBc,EAAQ9F,IAAMa,KAGNoF,EAGZ,IAAK,IAAIhK,EAAIuE,KAAKyE,WAAW7F,OAAS,EAAGnD,GAAK,IAAKA,EAAG,CACpD,IAAIkK,EAAQ3F,KAAKyE,WAAWhJ,GACxBiK,EAASC,EAAMV,WAEnB,GAAqB,SAAjBU,EAAMC,OAIR,OAAOL,EAAO,OAGhB,GAAII,EAAMC,QAAU5F,KAAKoE,KAAM,CAC7B,IAAIyB,EAAWxE,EAAOzF,KAAK+J,EAAO,YAC9BG,EAAazE,EAAOzF,KAAK+J,EAAO,cAEpC,GAAIE,GAAYC,EAAY,CAC1B,GAAI9F,KAAKoE,KAAOuB,EAAMI,SACpB,OAAOR,EAAOI,EAAMI,aACf,GAAI/F,KAAKoE,KAAOuB,EAAMK,WAC3B,OAAOT,EAAOI,EAAMK,iBAGjB,GAAIH,GACT,GAAI7F,KAAKoE,KAAOuB,EAAMI,SACpB,OAAOR,EAAOI,EAAMI,iBAGjB,KAAID,EAMT,MAAM,IAAIG,MAAM,0CALhB,GAAIjG,KAAKoE,KAAOuB,EAAMK,WACpB,OAAOT,EAAOI,EAAMK,gBAU9BE,OAAQ,SAAShB,EAAM1F,GACrB,IAAK,IAAI/D,EAAIuE,KAAKyE,WAAW7F,OAAS,EAAGnD,GAAK,IAAKA,EAAG,CACpD,IAAIkK,EAAQ3F,KAAKyE,WAAWhJ,GAC5B,GAAIkK,EAAMC,QAAU5F,KAAKoE,MACrB/C,EAAOzF,KAAK+J,EAAO,eACnB3F,KAAKoE,KAAOuB,EAAMK,WAAY,CAChC,IAAIG,EAAeR,EACnB,OAIAQ,IACU,UAATjB,GACS,aAATA,IACDiB,EAAaP,QAAUpG,GACvBA,GAAO2G,EAAaH,aAGtBG,EAAe,MAGjB,IAAIT,EAASS,EAAeA,EAAalB,cAIzC,OAHAS,EAAOR,KAAOA,EACdQ,EAAOlG,IAAMA,EAET2G,GACFnG,KAAKwE,OAAS,OACdxE,KAAK2D,KAAOwC,EAAaH,WAClB9D,GAGFlC,KAAKoG,SAASV,IAGvBU,SAAU,SAASV,EAAQW,GACzB,GAAoB,UAAhBX,EAAOR,KACT,MAAMQ,EAAOlG,IAcf,MAXoB,UAAhBkG,EAAOR,MACS,aAAhBQ,EAAOR,KACTlF,KAAK2D,KAAO+B,EAAOlG,IACM,WAAhBkG,EAAOR,MAChBlF,KAAKmF,KAAOnF,KAAKR,IAAMkG,EAAOlG,IAC9BQ,KAAKwE,OAAS,SACdxE,KAAK2D,KAAO,OACa,WAAhB+B,EAAOR,MAAqBmB,IACrCrG,KAAK2D,KAAO0C,GAGPnE,GAGToE,OAAQ,SAASN,GACf,IAAK,IAAIvK,EAAIuE,KAAKyE,WAAW7F,OAAS,EAAGnD,GAAK,IAAKA,EAAG,CACpD,IAAIkK,EAAQ3F,KAAKyE,WAAWhJ,GAC5B,GAAIkK,EAAMK,aAAeA,EAGvB,OAFAhG,KAAKoG,SAAST,EAAMV,WAAYU,EAAMU,UACtC1B,EAAcgB,GACPzD,IAKbqE,MAAS,SAASX,GAChB,IAAK,IAAInK,EAAIuE,KAAKyE,WAAW7F,OAAS,EAAGnD,GAAK,IAAKA,EAAG,CACpD,IAAIkK,EAAQ3F,KAAKyE,WAAWhJ,GAC5B,GAAIkK,EAAMC,SAAWA,EAAQ,CAC3B,IAAIF,EAASC,EAAMV,WACnB,GAAoB,UAAhBS,EAAOR,KAAkB,CAC3B,IAAIsB,EAASd,EAAOlG,IACpBmF,EAAcgB,GAEhB,OAAOa,GAMX,MAAM,IAAIP,MAAM,0BAGlBQ,cAAe,SAASC,EAAUC,EAAYC,GAa5C,OAZA5G,KAAKuE,UACHpG,SAAUoE,EAAOmE,GACjBC,WAAYA,EACZC,QAASA,GAGS,SAAhB5G,KAAKwE,SAGPxE,KAAKR,IAAMa,GAGN6B,IAnqBX,SAASL,EAAK2B,EAASC,EAAS1D,EAAM2D,GAEpC,IAAImD,EAAiBpD,GAAWA,EAAQpG,qBAAqBqF,EAAYe,EAAUf,EAC/EoE,EAAY3K,OAAOY,OAAO8J,EAAexJ,WACzCiI,EAAU,IAAIrB,EAAQP,OAM1B,OAFAoD,EAAUC,QAkMZ,SAA0BvD,EAASzD,EAAMuF,GACvC,IAAI0B,EAAQlF,EAEZ,OAAO,SAAgB0C,EAAQhF,GAC7B,GAAIwH,IAAUhF,EACZ,MAAM,IAAIiE,MAAM,gCAGlB,GAAIe,IAAU/E,EAAmB,CAC/B,GAAe,UAAXuC,EACF,MAAMhF,EAKR,OAAOyH,IAMT,IAHA3B,EAAQd,OAASA,EACjBc,EAAQ9F,IAAMA,IAED,CACX,IAAI+E,EAAWe,EAAQf,SACvB,GAAIA,EAAU,CACZ,IAAI2C,EAAiBC,EAAoB5C,EAAUe,GACnD,GAAI4B,EAAgB,CAClB,GAAIA,IAAmBhF,EAAkB,SACzC,OAAOgF,GAIX,GAAuB,SAAnB5B,EAAQd,OAGVc,EAAQjB,KAAOiB,EAAQhB,MAAQgB,EAAQ9F,SAElC,GAAuB,UAAnB8F,EAAQd,OAAoB,CACrC,GAAIwC,IAAUlF,EAEZ,MADAkF,EAAQ/E,EACFqD,EAAQ9F,IAGhB8F,EAAQF,kBAAkBE,EAAQ9F,SAEN,WAAnB8F,EAAQd,QACjBc,EAAQY,OAAO,SAAUZ,EAAQ9F,KAGnCwH,EAAQhF,EAER,IAAI0D,EAAS0B,EAAS5D,EAASzD,EAAMuF,GACrC,GAAoB,WAAhBI,EAAOR,KAAmB,CAO5B,GAJA8B,EAAQ1B,EAAQ3F,KACZsC,EACAF,EAEA2D,EAAOlG,MAAQ0C,EACjB,SAGF,OACExF,MAAOgJ,EAAOlG,IACdG,KAAM2F,EAAQ3F,MAGS,UAAhB+F,EAAOR,OAChB8B,EAAQ/E,EAGRqD,EAAQd,OAAS,QACjBc,EAAQ9F,IAAMkG,EAAOlG,OAxE7B,CAlMuCgE,EAASzD,EAAMuF,GAE7CwB,EAcT,SAASM,EAAStH,EAAI5B,EAAKsB,GACzB,IACE,OAAS0F,KAAM,SAAU1F,IAAKM,EAAGlE,KAAKsC,EAAKsB,IAC3C,MAAOY,GACP,OAAS8E,KAAM,QAAS1F,IAAKY,IAiBjC,SAASsC,KACT,SAASC,KACT,SAASF,KA4BT,SAASY,EAAsBhG,IAC5B,OAAQ,QAAS,UAAUqH,QAAQ,SAASF,GAC3CnH,EAAUmH,GAAU,SAAShF,GAC3B,OAAOQ,KAAK+G,QAAQvC,EAAQhF,MAoClC,SAAS8D,EAAcwD,GAgCrB,IAAIO,EAgCJrH,KAAK+G,QA9BL,SAAiBvC,EAAQhF,GACvB,SAAS8H,IACP,OAAO,IAAI1H,QAAQ,SAASR,EAASC,IAnCzC,SAASkI,EAAO/C,EAAQhF,EAAKJ,EAASC,GACpC,IAAIqG,EAAS0B,EAASN,EAAUtC,GAASsC,EAAWtH,GACpD,GAAoB,UAAhBkG,EAAOR,KAEJ,CACL,IAAItB,EAAS8B,EAAOlG,IAChB9C,EAAQkH,EAAOlH,MACnB,OAAIA,GACiB,iBAAVA,GACP2E,EAAOzF,KAAKc,EAAO,WACdkD,QAAQR,QAAQ1C,EAAM0G,SAASvD,KAAK,SAASnD,GAClD6K,EAAO,OAAQ7K,EAAO0C,EAASC,IAC9B,SAASe,GACVmH,EAAO,QAASnH,EAAKhB,EAASC,KAI3BO,QAAQR,QAAQ1C,GAAOmD,KAAK,SAAS2H,GAI1C5D,EAAOlH,MAAQ8K,EACfpI,EAAQwE,IACP,SAASlE,GAGV,OAAO6H,EAAO,QAAS7H,EAAON,EAASC,KAvBzCA,EAAOqG,EAAOlG,KAHlB,CAoCagF,EAAQhF,EAAKJ,EAASC,KAIjC,OAAOgI,EAaLA,EAAkBA,EAAgBxH,KAChCyH,EAGAA,GACEA,KA+GV,SAASH,EAAoB5C,EAAUe,GACrC,IAAId,EAASD,EAASpG,SAASmH,EAAQd,QACvC,GAAIA,IAAWnE,EAAW,CAKxB,GAFAiF,EAAQf,SAAW,KAEI,UAAnBe,EAAQd,OAAoB,CAC9B,GAAID,EAASpG,SAASsJ,SAGpBnC,EAAQd,OAAS,SACjBc,EAAQ9F,IAAMa,EACd8G,EAAoB5C,EAAUe,GAEP,UAAnBA,EAAQd,QAGV,OAAOtC,EAIXoD,EAAQd,OAAS,QACjBc,EAAQ9F,IAAM,IAAIhB,UAChB,kDAGJ,OAAO0D,EAGT,IAAIwD,EAAS0B,EAAS5C,EAAQD,EAASpG,SAAUmH,EAAQ9F,KAEzD,GAAoB,UAAhBkG,EAAOR,KAIT,OAHAI,EAAQd,OAAS,QACjBc,EAAQ9F,IAAMkG,EAAOlG,IACrB8F,EAAQf,SAAW,KACZrC,EAGT,IAAIzC,EAAOiG,EAAOlG,IAElB,OAAMC,EAOFA,EAAKE,MAGP2F,EAAQf,EAASoC,YAAclH,EAAK/C,MAGpC4I,EAAQ3B,KAAOY,EAASqC,QAQD,WAAnBtB,EAAQd,SACVc,EAAQd,OAAS,OACjBc,EAAQ9F,IAAMa,GAUlBiF,EAAQf,SAAW,KACZrC,GANEzC,GA3BP6F,EAAQd,OAAS,QACjBc,EAAQ9F,IAAM,IAAIhB,UAAU,oCAC5B8G,EAAQf,SAAW,KACZrC,GAoDX,SAASwF,EAAaC,GACpB,IAAIhC,GAAUC,OAAQ+B,EAAK,IAEvB,KAAKA,IACPhC,EAAMI,SAAW4B,EAAK,IAGpB,KAAKA,IACPhC,EAAMK,WAAa2B,EAAK,GACxBhC,EAAMU,SAAWsB,EAAK,IAGxB3H,KAAKyE,WAAWX,KAAK6B,GAGvB,SAAShB,EAAcgB,GACrB,IAAID,EAASC,EAAMV,eACnBS,EAAOR,KAAO,gBACPQ,EAAOlG,IACdmG,EAAMV,WAAaS,EAGrB,SAASzB,EAAQP,GAIf1D,KAAKyE,aAAgBmB,OAAQ,SAC7BlC,EAAYgB,QAAQgD,EAAc1H,MAClCA,KAAKkE,UA8BP,SAAS3B,EAAOmE,GACd,GAAIA,EAAU,CACZ,IAAIkB,EAAiBlB,EAASnF,GAC9B,GAAIqG,EACF,OAAOA,EAAehM,KAAK8K,GAG7B,GAA6B,mBAAlBA,EAAS/C,KAClB,OAAO+C,EAGT,IAAK7B,MAAM6B,EAAS9H,QAAS,CAC3B,IAAInD,GAAK,EAAGkI,EAAO,SAASA,IAC1B,OAASlI,EAAIiL,EAAS9H,QACpB,GAAIyC,EAAOzF,KAAK8K,EAAUjL,GAGxB,OAFAkI,EAAKjH,MAAQgK,EAASjL,GACtBkI,EAAKhE,QACEgE,EAOX,OAHAA,EAAKjH,MAAQ2D,EACbsD,EAAKhE,QAEEgE,GAGT,OAAOA,EAAKA,KAAOA,GAKvB,OAASA,KAAMsD,GAIjB,SAASA,IACP,OAASvK,MAAO2D,EAAWV,UAxf7B,CAssBC,WACC,OAAOK,MAAyB,iBAATD,MAAqBA,KAD7C,IAEOc,yFC/sBH,SAASgH,EAAE7L,EAAM8L,GAKtB,IAJA,IAAIC,KACAC,KACApJ,EAASsB,UAAUtB,OAEhBA,KAAW,GAAGmJ,EAAKjE,KAAK5D,UAAUtB,IAEzC,KAAOmJ,EAAKnJ,QAAQ,CAClB,IAAIqJ,EAAOF,EAAK/D,MAChB,GAAIiE,GAAQA,EAAKjE,IACf,IAAKpF,EAASqJ,EAAKrJ,OAAQA,KACzBmJ,EAAKjE,KAAKmE,EAAKrJ,SAEA,MAARqJ,QAAgBA,QAAiBA,GAC1CD,EAASlE,KAAKmE,GAIlB,MAAuB,mBAATjM,EACVA,EAAK8L,MAAkBE,IAErBE,SAAUlM,EACV8L,WAAYA,MACZE,SAAUA,EACVhL,IAAK8K,GAAcA,EAAW9K,KAI/B,SAASmL,EAAInB,EAAOoB,EAASC,EAAMC,GACxC,IAIIC,EAJAC,KAASA,IACTC,EAAeH,GAAaA,EAAUN,SAAS,IAAO,KACtDU,EAAUD,GAWd,SAASE,EAAeC,GACtB,OACEV,SAAUU,EAAQV,SAASW,cAC3Bf,cACAE,SAAUQ,EAAI5M,KAAKgN,EAAQE,WAAY,SAASF,GAC9C,OAA4B,IAArBA,EAAQG,SACXH,EAAQI,UACRL,EAAeC,MAPzB,CAX4CH,GACxCQ,KAEAC,KACAC,EAAcC,EAAMpC,GACpBqC,EA4EJ,SAASC,EAAmBC,EAAMvC,EAAOoB,GACvC,IAAK,IAAIpL,KAAOoL,EACU,mBAAjBA,EAAQpL,GACV,SAASA,EAAKwM,GACbpB,EAAQpL,GAAO,SAASyM,GACtB,IAAI7F,EAAS4F,EAAOC,GAoBpB,MAlBsB,mBAAX7F,IACTA,EAASA,EAAO8F,EAAgBH,EAAMJ,GAAcf,IAIpDxE,GACAA,KAAYoD,EAAQ0C,EAAgBH,EAAMJ,MACzCvF,EAAO/D,MAER8J,EACGR,EAAcS,EACbL,EACAH,EAAMpC,EAAOpD,GACbuF,IAKCvF,GAtBV,CAwBE5G,EAAKoL,EAAQpL,IAChBsM,EACEC,EAAKM,OAAO7M,GACXgK,EAAMhK,GAAOoM,EAAMpC,EAAMhK,IACzBoL,EAAQpL,GAAOoM,EAAMhB,EAAQpL,KAItC,OAAOoL,EAnCT,IA5E0Ce,EAAaC,EAAMhB,IAI7D,OAFAuB,IAEON,EAcP,SAASS,EAAY7B,GACnB,MAAuB,mBAATA,EACV6B,EAAY7B,EAAKkB,EAAaE,IACtB,MAARpB,EACEA,EACA,GAGR,SAAS8B,IACPxB,GAAcA,EAEd,IAAIN,EAAO6B,EAAYzB,GAQvB,IANIC,IAAcC,IAChBE,EA0OJ,SAASuB,EAAMC,EAAQrB,EAASF,EAAST,EAAMiC,GAC7C,GAAIjC,IAASS,QACN,GAAe,MAAXA,GAAmBA,EAAQR,WAAaD,EAAKC,SAAU,CAChE,IAAIiC,EA5FR,SAASC,EAAcnC,EAAMiC,GAC3B,IAAItB,EACc,iBAATX,GAAqC,iBAATA,EAC/BoC,SAASC,eAAerC,IACvBiC,EAAQA,GAA2B,QAAlBjC,EAAKC,UACrBmC,SAASE,gBACP,6BACAtC,EAAKC,UAEPmC,SAASD,cAAcnC,EAAKC,UAEhCJ,EAAaG,EAAKH,WACtB,GAAIA,EAAY,CACVA,EAAW0C,UACbvB,EAAUnF,KAAK,WACbgE,EAAW0C,SAAS5B,KAIxB,IAAK,IAAInN,EAAI,EAAGA,EAAIwM,EAAKD,SAASpJ,OAAQnD,IACxCmN,EAAQ6B,YACNL,EACGnC,EAAKD,SAASvM,GAAKqO,EAAY7B,EAAKD,SAASvM,IAC9CyO,IAKN,IAAK,IAAIlO,KAAQ8L,EACf4C,EAAgB9B,EAAS5M,EAAM8L,EAAW9L,GAAO,KAAMkO,GAI3D,OAAOtB,EAjCT,CA4FmCX,EAAMiC,GACrCD,EAAOU,aAAaR,EAAYvB,GAEjB,MAAXF,GACFkC,EAAcX,EAAQrB,EAASF,GAGjCE,EAAUuB,OACL,GAAwB,MAApBzB,EAAQR,SACjBU,EAAQI,UAAYf,MACf,EAlET,SAAuBW,EAASiC,EAAe/C,EAAYoC,GACzD,IAAK,IAAIlO,KAAQoN,EAAMyB,EAAe/C,GAElCA,EAAW9L,MACD,UAATA,GAA6B,YAATA,EACjB4M,EAAQ5M,GACR6O,EAAc7O,KAElB0O,EACE9B,EACA5M,EACA8L,EAAW9L,GACX6O,EAAc7O,GACdkO,GAKN,IAAIY,EAAK5B,EAAcpB,EAAW0C,SAAW1C,EAAWiD,SACpDD,GACF7B,EAAUnF,KAAK,WACbgH,EAAGlC,EAASiC,KArBlB,CAoEMjC,EACAF,EAAQZ,WACRG,EAAKH,WACJoC,EAAQA,GAA2B,QAAlBjC,EAAKC,UASzB,IANA,IAAI8C,KACAC,KACAC,KACAC,EAAczC,EAAQV,SACtBA,EAAWC,EAAKD,SAEXvM,EAAI,EAAGA,EAAI0P,EAAYvM,OAAQnD,IAAK,CAC3CyP,EAAYzP,GAAKmN,EAAQE,WAAWrN,GAEpC,IAAI2P,EAASC,EAAOF,EAAY1P,IAClB,MAAV2P,IACFJ,EAASI,IAAWF,EAAYzP,GAAI0P,EAAY1P,KAOpD,IAHA,IAAIA,EAAI,EACJ6P,EAAI,EAEDA,EAAItD,EAASpJ,QAAQ,CAC1B,IAAIwM,EAASC,EAAOF,EAAY1P,IAC5B8P,EAASF,EAAQrD,EAASsD,GAAKxB,EAAY9B,EAASsD,KAExD,GAAIL,EAASG,GACX3P,SAIF,GAAc,MAAV8P,GAAkBA,IAAWF,EAAOF,EAAY1P,EAAI,IAQxD,GAAc,MAAV8P,GAAkBrC,EACN,MAAVkC,IACFpB,EAAMpB,EAASsC,EAAYzP,GAAI0P,EAAY1P,GAAIuM,EAASsD,GAAIpB,GAC5DoB,KAEF7P,QACK,CACL,IAAI+P,EAAYR,EAASO,OAErBH,IAAWG,GACbvB,EAAMpB,EAAS4C,EAAU,GAAIA,EAAU,GAAIxD,EAASsD,GAAIpB,GACxDzO,KACS+P,EAAU,GACnBxB,EACEpB,EACAA,EAAQ+B,aAAaa,EAAU,GAAIN,EAAYzP,IAC/C+P,EAAU,GACVxD,EAASsD,GACTpB,GAGFF,EAAMpB,EAASsC,EAAYzP,GAAI,KAAMuM,EAASsD,GAAIpB,GAGpDe,EAASM,GAAUvD,EAASsD,GAC5BA,SAhCc,MAAVF,GACFR,EAAchC,EAASsC,EAAYzP,GAAI0P,EAAY1P,IAErDA,IAiCJ,KAAOA,EAAI0P,EAAYvM,QACS,MAA1ByM,EAAOF,EAAY1P,KACrBmP,EAAchC,EAASsC,EAAYzP,GAAI0P,EAAY1P,IAErDA,IAGF,IAAK,IAAIA,KAAKuP,EACPC,EAASxP,IACZmP,EAAchC,EAASoC,EAASvP,GAAG,GAAIuP,EAASvP,GAAG,IAIzD,OAAOmN,EAlGT,CA1OwBN,EAAWG,EAAaC,EAAUA,EAAUT,IAGlEiB,KAEOD,EAAUrK,QAAQqK,UAG3B,SAASU,IACFpB,IACHA,KACAkD,WAAW1B,IAIf,SAASX,EAAM1K,EAAQgN,GACrB,IAAIC,KAEJ,IAAK,IAAIlQ,KAAKiD,EAAQiN,EAAIlQ,GAAKiD,EAAOjD,GACtC,IAAK,IAAIA,KAAKiQ,EAAQC,EAAIlQ,GAAKiQ,EAAOjQ,GAEtC,OAAOkQ,EAGT,SAAS/B,EAAgBL,EAAM7M,EAAOgP,GACpC,IAAIhN,KACJ,OAAI6K,EAAK3K,QACPF,EAAO6K,EAAK,IACVA,EAAK3K,OAAS,EACVgL,EAAgBL,EAAKzE,MAAM,GAAIpI,EAAOgP,EAAOnC,EAAK,KAClD7M,EACC0M,EAAMsC,EAAQhN,IAEhBhC,EAGT,SAASgN,EAAgBH,EAAMmC,GAE7B,IADA,IAAIjQ,EAAI,EACDA,EAAI8N,EAAK3K,QACd8M,EAASA,EAAOnC,EAAK9N,MAEvB,OAAOiQ,EAyCT,SAASL,EAAOpD,GACd,OAAOA,EAAOA,EAAKjL,IAAM,KAG3B,SAAS4O,EAAcC,GACrB,OAAOA,EAAMC,cAAcC,OAAOF,EAAM3G,MAAM2G,GAGhD,SAASnB,EAAgB9B,EAAS5M,EAAMU,EAAOsP,EAAU9B,GACvD,GAAa,QAATlO,QACG,GAAa,UAATA,EACT,GAAqB,iBAAVU,EACTkM,EAAQqD,MAAMC,QAAUxP,OAGxB,IAAK,IAAIjB,IADe,iBAAbuQ,IAAuBA,EAAWpD,EAAQqD,MAAMC,QAAU,IACvD9C,EAAM4C,EAAUtP,GAAQ,CACpC,IAAIuP,EAAiB,MAATvP,GAA6B,MAAZA,EAAMjB,GAAa,GAAKiB,EAAMjB,GAC9C,MAATA,EAAE,GACJmN,EAAQqD,MAAME,YAAY1Q,EAAGwQ,GAE7BrD,EAAQqD,MAAMxQ,GAAKwQ,MAKT,MAAZjQ,EAAK,IAA0B,MAAZA,EAAK,IAC1BA,EAAOA,EAAK8I,MAAM,GAEd8D,EAAQmD,OACLC,IAAUA,EAAWpD,EAAQmD,OAAO/P,IAEzC4M,EAAQmD,UAGVnD,EAAQmD,OAAO/P,GAAQU,EAEnBA,EACGsP,GACHpD,EAAQwD,iBAAiBpQ,EAAM4P,GAGjChD,EAAQyD,oBAAoBrQ,EAAM4P,IAGpC5P,KAAQ4M,GACC,SAAT5M,GACS,SAATA,GACS,cAATA,GACS,eAATA,GACS,cAATA,IACCkO,EAEDtB,EAAQ5M,GAAiB,MAATU,EAAgB,GAAKA,EACnB,MAATA,QAAiBA,GAC1BkM,EAAQ0D,aAAatQ,EAAMU,GAGhB,MAATA,QAAiBA,GACnBkM,EAAQ2D,gBAAgBvQ,GAiF9B,SAAS4O,EAAcX,EAAQrB,EAASX,GACtC,SAAStI,IACPsK,EAAOuC,YAhBX,SAASC,EAAe7D,EAASX,GAC/B,IAAIH,EAAaG,EAAKH,WACtB,GAAIA,EAAY,CACd,IAAK,IAAIrM,EAAI,EAAGA,EAAIwM,EAAKD,SAASpJ,OAAQnD,IACxCgR,EAAe7D,EAAQE,WAAWrN,GAAIwM,EAAKD,SAASvM,IAGlDqM,EAAW4E,WACb5E,EAAW4E,UAAU9D,GAGzB,OAAOA,EAXT,CAgBsCA,EAASX,IAG7C,IAAI6C,EAAK7C,EAAKH,YAAcG,EAAKH,WAAW6E,SACxC7B,EACFA,EAAGlC,EAASjJ,GAEZA,KC1QN,IAAMiN,EAAY,SAAClQ,EAAOmQ,GAAR,MAAmC,iBAAVnQ,EAAP,GAAAmN,OAC7BnN,EAD6B,WAE/BA,EAAkBmQ,EAAQnQ,GAEzBoQ,GACJC,KAAM,SAAApQ,GAAK,OAAMqQ,SAAUtQ,IAC3BuQ,OAAQ,SAAAtQ,GAAK,OAAMuQ,WAAYxQ,IAC/ByQ,MAAO,SAAAxQ,GAAK,OAAMyQ,UAAWR,EAAUlQ,EAAO,UAC9C2Q,MAAO,SAAA1Q,GAAK,OAAM2Q,WAAY5Q,IAC9B6Q,QAAS,SAAA5Q,GAAK,OAAM6Q,eAAgB9Q,IACpC+Q,QAAS,SAAA9Q,GAAK,OAAM+Q,OAAQd,EAAUlQ,EAAO,OAC7CgR,OAAQ,SAAA/Q,GAAK,OAAM+Q,OAAQd,EAAUlQ,EAAO,QAQjCiR,EAAU,SAAChP,GAAyB,IAAlBqJ,EAAkB9H,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,MACzC0N,EAAkBjP,EAAMkP,iBAAiBvN,MAC3C3B,EAAMkP,OACLlP,EAAMkP,OAELC,GACJ,YADcjE,WAEX+D,IAGDjP,EAAMoP,aACRD,EAAWhK,KAAK,YAAcnF,EAAMoP,aAGtC,IAAMC,EAAsC,iBAAhBrP,EAAMsN,SAE9B9P,OAAO8R,UAAWtP,EAAMsN,WAEtBA,EAAQ9P,OAAO0H,KAAKlF,GAAOuP,OAAO,SAACtK,EAAQuK,GAC/C,IAAMzR,EAAQoQ,EAAaqB,GACvBrB,EAAaqB,GAAMxP,EAAMwP,WAG7B,OAAOhS,OAAO8R,UAAWrK,EAAQlH,IAChCsR,GAEH,OAAOnG,EAAE,OACP2C,SAAU7L,EAAM6L,SAChBkC,UAAW/N,EAAM+N,UACjBmB,MAAOC,EAAWM,OAAO,SAAAzR,GAAC,QAAMa,IAAG6Q,KAAK,KACxCpC,SACCjE,IC5CQsG,EAAM,SAAC3P,EAAOqJ,GAAR,OACjBH,EAAE8F,EAASxR,OAAO8R,QAChBF,YAAa,cACZpP,GACDkP,OAAQ,eAAgBlP,EAAMkP,SAC5B7F,ICLOuG,EAAe,SAAC5P,EAAOqJ,GAAR,OAC1BH,EAAE8F,EAASxR,OAAO8R,UAAWtP,GAC3BkP,OAAQ,yBAA0BlP,EAAMkP,SACtC7F,ICHOwG,EAAY,SAAC7P,EAAOqJ,GAAR,OACvBH,EAAE8F,EAASxR,OAAO8R,UAAWtP,GAC3BkP,OAAQ,sBAAuBlP,EAAMkP,SACnC7F,oBCJOyG,EAAO,SAAC9P,EAAOqJ,GAAR,OAClBH,EAAE,KACA6G,YAA8B,WAAjBC,IAAOhQ,GAAqBA,EAAM3C,YAC/C6R,MAAO,YACP5B,OACE2C,gBAAkC,iBAAVjQ,EAAP,OAAAkL,OAAmClL,EAAnC,gBAA8C0B,gBCNxDwO,EAAgB,SAAClQ,EAAOmQ,GAInC,OAHa3S,OAAO0H,KAAKlF,GAItByP,OAHY,SAAAzR,GAAC,OAA+B,IAA3BmS,EAAW7N,QAAQqK,KAIpC4C,OAAO,SAACtK,EAAQ0H,GAAT,OAAenP,OAAO8R,OAAP9R,OACpBmP,EAAI3M,EAAM2M,IACV1H,SAQMmL,EAAY,WAAmB,IAEtCC,EAFoBC,EAAkB/O,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,GAAR,IAC9BgP,KAGJ,OAAO,SAACC,EAAIrE,GAIV,OAHAkE,EAAQI,aAAaJ,GACrBA,EAAQvD,WAAW,kBAAOyD,MAAiBD,GAEvCC,GACFC,EAAGE,iBACIvE,EAAGqE,KAGZD,MAAS,KCzBAI,EAAc,SAACtT,EAAM2C,EAAO4Q,EAAczE,EAAI0E,GACzD,IAAMC,EAAU9Q,EAAM8Q,SAAW,aAC3BC,EAAW/Q,EAAM+Q,UAAY,aAC7BC,EAAYhR,EAAMgR,WAAa,aAE/BC,EAAWJ,GAAY,SAAA7S,GAAE,OAAKwS,EAAGzQ,OAAOhC,QACxCmT,EAAa1T,OAAO8R,QAEtBwB,QAAS,SAAA9S,GAAE,OAAI8S,EAAOtP,cAACgP,GAARM,WAAeG,EAAST,OACvCO,SAAU,SAAA/S,GAAE,OAAI+S,EAAQvP,cAACgP,GAATO,WAAgBE,EAAST,OACzCQ,UAAW,SAAAhT,GACU,KAAfwS,EAAGW,SAAkBnR,EAAMoR,SAC7BpR,EAAMoR,QAANpR,SAAcwQ,GAATtF,WAAgB+F,EAAST,MAEhCQ,EAAUR,KAGdI,EACAV,EAAclQ,GAAQ,UAAW,QAAS,MAAO,UAAW,cAG9D,OAAOkJ,EAAE8F,EAASxR,OAAO8R,UAAWtP,EAAMqR,SACxCnC,MAAO,2BAA6B7R,IAClC8O,EAAG+E,KCxBII,EAAS,eAACtR,EAADuB,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,MAAa8H,EAAb9H,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,aACpBoP,EAAY,SAAU3Q,KACnB,SAACkR,GACF,IAAMK,KASN,OARIvR,EAAMwR,MACRD,EAAMpM,KAAK+D,EAAE4G,EAAM9P,EAAMwR,OAGA,iBAAhBxR,EAAMyR,OACfF,EAAMpM,KAAK+D,EAAE,QAASgG,MAAO,cAAelP,EAAMyR,QAG7CvI,EAAE,SAAUgI,EACdK,EADGrG,WAEH7B,QCdIqI,EAAc,SAAC1R,GAAyB,IAAlBqJ,EAAkB9H,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,MAC/CxD,EAA+B,iBAAhBiC,EAAMjC,MACrB4T,KAAKC,IAAI,EAAGD,KAAKE,IAAI7R,EAAMjC,QAAU,IACrC,EAEEZ,EAAI+L,EAAE,OAAQgG,MAAO,iCACzBhG,EAAE,OACA4I,UAAW,6BACXxE,OACEyE,MAAOC,OAAOjU,GAAS,OAG3BmL,EAAE,OACA4I,UAAW,+BAEX5I,EAAE,WACA8I,OAAOjU,GAAS,UAKtB,OAAOmL,EAAE8F,EAASxR,OAAO8R,UAAWtP,EAAMqR,SACxCnC,OAAQ,uBAAwBlP,EAAMkP,UAEtC/R,GAHM+N,WAIH7B,MCgDM4I,EAAO,SAACjS,GAAD,OAAWkJ,EAAE,OAC/BgJ,GAAI,oBACJJ,UAAW,yBACXjG,SAAU7L,EAAM6L,SAChBO,SAAUpM,EAAMoM,SAChBkB,OACE6E,aAASnS,EAAMoS,QAAoB,QAAU,OAC7CC,IAAKrS,EAAMsS,SAAWN,OAAOhS,EAAMsS,SAASD,KAAO,KAAO,EAC1DE,KAAMvS,EAAMsS,SAAWN,OAAOhS,EAAMsS,SAASC,MAAQ,KAAO,IAvFrD,SAALC,EAAMxS,GAAoC,IAA7BqJ,EAA6B9H,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,MAAdkR,EAAclR,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,GAAN,EAiBlCgQ,EAAQ,SAACvR,EAAO0S,GACpB,IAIMrJ,GACJH,EAAE,QAASgG,MALoB,cAAfwD,EAAMnM,KACpB,0BACA,wBAA0BmM,EAAMC,SAAW,iBAAmB,KAlBtD,SAAA3U,GACZ,IAAMqL,KAWN,MAVmB,aAAfqJ,EAAMnM,MAAgD,kBAAlBmM,EAAME,QAC5CvJ,EAASlE,KAAK+D,EAAE,QACdgG,MAAO,2BAA6BwD,EAAME,QAAU,SAAW,OAExDF,EAAMlB,MACfnI,EAASlE,KAAK+D,EAAE4G,EAAM4C,EAAMlB,OAG9BnI,EAASlE,KAAK+D,EAAE,UAAYwJ,EAAMjB,QAE3BpI,EAZK,CAqB0BqJ,KAOtC,OAJIA,EAAMG,OACRxJ,EAASlE,KAAKqN,EAAGxS,EAAO0S,EAAMG,MAAOJ,EAAQ,IAGxCpJ,GAGT,OAAOH,EAAE,MACPgG,MAAO,IACN7F,EAASQ,IACV,SAAA7L,GAAK,OAAIkL,EAAE,MACTgG,MAAO,wBAEPhG,EAAE,OACAgG,MAAO,0BACP4D,mBAAkBJ,EAAMlB,aACxBuB,sBAAqBL,EAAMG,cAC3BG,YAAaN,EAAMG,MAAQ7S,EAAMiT,cACjCC,WAAYR,EAAMG,MAAQ7S,EAAMiT,cAChCE,QAAS,SAAC3C,GACJkC,EAAMG,QAINH,EAAMS,SACRT,EAAMS,QAAQT,EAAOlC,GAGnBxQ,EAAMmT,SACRnT,EAAMmT,QAAQT,EAAOlC,MAGxBe,EAAMvR,EAAO0S,SA+BnBF,CAAGxS,EAAOA,EAAMoT,QCnFNC,EAAU,SAACrT,EAAOqJ,GAAR,OACrBH,EAAE8F,EAASxR,OAAO8R,QAChBF,YAAa,YACZpP,GACDkP,OAAQ,mBAAoBlP,EAAMkP,SAChC7F,ICNOiK,EAAY,SAACtT,EAAOqJ,GAAR,OACvBH,EAAE8F,EAASxR,OAAO8R,UAAWtP,EAAMqR,SACjCnC,OAAQ,qBAAsBlP,EAAMkP,SAClC7F,ICHOkK,EAAc,SAACvT,GAAyB,IAAlBqJ,EAAkB9H,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,MAC5C4R,EAAiBnT,EAAjBmT,QAASrI,EAAQ9K,EAAR8K,KAEhB,OAAO5B,EAAE,OACPiK,QAAS,SAAC3C,GACR,GAAuB,mBAAZ2C,EAAwB,CACjC,IAAMK,EAAahD,EAAGzQ,OAAOyT,WACvBC,EAAQ9R,MAAMjD,UAAU4D,QAAQrF,KAAKuW,EAAWnK,SAAUmH,EAAGzQ,QAEnEoT,EAAQ3C,EAAI1F,MAAY2I,MAG3BvK,EAAE,UAAYG,KASNqK,EAAU,SAAC1T,GAAD,IAAQqJ,EAAR9H,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,aACrB2H,EAAE8F,EAASxR,OAAO8R,UAAWtP,GAC3BkP,OAAQ,mBAAoBlP,EAAMkP,SADnCyE,KAGK3T,EAAM6S,WAAahJ,IAAI,SAAAtL,GAAI,OAAI2K,EAAEqK,GACnCzI,KAAM8I,EAAK9I,KACXqI,QAAUS,EAAKT,SAAWnT,EAAMmT,SAC/BS,EAAKnC,UANTkC,WAOItK,MChEP,SAASwK,EAAUxL,EAAOoB,EAASC,EAAMoK,GAErC,OADArK,EAAQsK,IAAM,WAAa,UACpB,SAAU/T,EAAOqJ,GACpB,OAAOH,EAAE4K,GAAW,MAChBzV,IAAK2B,EAAM3B,IACX6T,GAAIlS,EAAMkS,GACVhD,MAAOlP,EAAMkP,MACbrD,SAAU,SAAUmI,GAChB,IAAIC,EAAQzK,EACRnB,EACAoB,EACA,SAAU5K,EAAGqV,GACT,IAAIC,EAAIzK,EAAK7K,EAAGqV,GAEhB,MADiB,mBAANC,IAAkBA,EAAIA,EAAEH,EAAGI,IAAKJ,EAAGK,MACvCF,GAEXH,GAEJA,EAAGI,IAAMpU,EACTgU,EAAGK,IAAMhL,EACT2K,EAAGD,IAAME,EAAMF,IACfC,EAAGM,IAAML,EAAMM,OACfN,EAAMO,MAAQP,EAAMO,KAAKxU,GACzBA,EAAM6L,UAAY7L,EAAM6L,SAASmI,IAErC5H,SAAU,SAAU4H,GAChBA,EAAGI,IAAMpU,EACTgU,EAAGK,IAAMhL,EACT2K,EAAGD,MACH/T,EAAMoM,UAAYpM,EAAMoM,SAAS4H,IAErCjG,UAAW,SAAUiG,GACjBA,EAAGM,KAAON,EAAGM,UCD7B,IA0EM/C,EAAQsC,GACZY,WAEAD,KAAM,SAAAxW,GAAK,OAAMyW,MAAOzU,EAAMyU,QAAU,OACxCC,QAAS,SAAA1W,GAAA,IAAEyV,EAAFzV,EAAEyV,MAAOkB,EAAT3W,EAAS2W,KAAT,OAAmB,SAAA3W,GAC1B,IAAMyW,KAAWvJ,OAAO7C,EAAMoM,OAE9B,OADAA,EAAMhB,GAASkB,GACPF,YAhBC,SAACpM,EAAOoB,GAAR,OAAoB,SAACzJ,EAAOqJ,GACvC,IAAM+F,EAAcpP,EAAMoP,aAAe,WAEzC,OAAOlG,EAAE8F,GACPI,cACAF,MAAO,wBA/BG,SAAC7G,EAAOoB,EAASJ,EAAU+F,GACvC,IAAMwF,EAAUjT,MAAMgQ,KAAKkD,KAAKxL,EAASpJ,OAAS,IAC/C6U,KAAK,MACLjL,IAAI,kBAAMX,EAAE,OACXgG,MAAO,wBACP6F,YAAa,SAAA/W,GAAE,OA5CD,SAACwS,EAAI/G,EAAS2F,GAAgB,IACzCrP,EAA4ByQ,EAA5BzQ,OAAQiV,EAAoBxE,EAApBwE,QAASC,EAAWzE,EAAXyE,QAClBC,EAAOnV,EAAOoV,gBACbC,EAA6BF,EAA7BE,YAAaC,EAAgBH,EAAhBG,aACd5B,EAAQ9R,MAAMK,KAAKjC,EAAOyT,WAAWnK,UAAU/G,QAAQ4S,GACvDI,EAAyC,GAA9BJ,EAAK1B,WAAW4B,YAC3BG,EAA2C,GAA/BL,EAAK1B,WAAW6B,aAElC,KAAI5B,EAAQ,GAAZ,CAIA,IAAM+B,EAAY,SAAAxX,GAChBwS,EAAGE,iBAEH,IAAIiE,EAAuB,aAAhBvF,EAA6BgG,EAAcC,EAEtD,GAAoB,aAAhBjG,EAA4B,CAC9B,IAAMqG,EAAQjF,EAAGwE,QAAUA,EAC3BL,EAAOhD,KAAK+D,IAAIJ,EAAUX,EAAOc,OAC5B,CACL,IAAME,EAAQnF,EAAGyE,QAAUA,EAC3BN,EAAOhD,KAAK+D,IAAIH,EAAWZ,EAAOgB,GAGpClM,EAAQiL,SAASjB,QAAOkB,UAS1BnE,EAAGE,iBACHhF,SAAS+B,iBAAiB,YAAa+H,GACvC9J,SAAS+B,iBAAiB,UARV,SAAVmI,EAAUrX,GACdiS,EAAGE,iBACHhF,SAASgC,oBAAoB,YAAa8H,GAC1C9J,SAASgC,oBAAoB,UAAWkI,MA/BxB,CA4CiBpF,EAAI/G,EAAS2F,QAchD,OAAO/F,EACJQ,IAZW,SAAC1M,EAAGL,GAChB,IAAM+Y,EAAIxN,EAAMoM,MAAM3X,GAAKkV,OAAO3J,EAAMoM,MAAM3X,IAAM,YAEpD,OAAOoM,EAAE,OACPgG,MAAO,sBACP5B,OACEwI,KAAMD,EAAC,OAAA3K,OAAU2K,GAAMA,IAExB1Y,KAKF0M,IAAI,SAACsK,EAAGrX,GAAJ,OAAWqX,EAAGS,EAAQ9X,MAC1ByS,OAAO,SAAC2E,EAAG6B,GAAJ,OAAU7B,EAAEhJ,OAAO6K,KAC1BtG,OAAO,SAAAzR,GAAC,gBAAWmW,IASnB6B,CAAM3N,EAAOoB,EAASJ,EAAU+F,MAY5B,OAOI6G,EAAQ,SAACjW,EAAOqJ,GAAR,OAAqBH,EAAEqI,GAC1CrC,MAAO,kBACN7F,IC3FG6M,EAAS9F,IA8CF+F,EAAW,SAAAnY,GAAK,OAAIkL,EAAE8F,EAASxR,OAAO8R,QACjDJ,MAAO,sBACNlP,EAAMqR,SA9CU,SAAArT,GAEjB,IAqBMkX,EAAO,SAACzB,EAAO2C,GAAR,OAAgBlN,EAAE,OAAQgG,MAAO,4BAC5ChG,EAAE,OACAgG,MAAO,4BACP5B,OACE6E,QAASnS,EAAMqW,YAAc,gBAEf,WAAfrG,IAAOoG,GAAmBA,EAAI3E,MAAQ2E,GACzClN,EAAE,OAAQgG,MAAO,QAASlP,EAAMsW,KAAKzM,IA5B1B,SAAC0M,GAAD,OAAe,SAACC,EAAKC,GAChC,IAAML,EAAMI,EAAIE,QAAQH,OAClBI,EAAW3W,EAAM4W,gBAAkBH,EACnCI,EAAUT,EAAI5E,KAAOtI,EAAE4G,EAAMsG,EAAI5E,MAAQ,KACzCnI,GAAYH,EAAE,WAA4B,WAAf8G,IAAOoG,GAAmBA,EAAI3E,MAAQ2E,KAMvE,OAJIS,GACFxN,EAASyN,QAAQD,GAGZ3N,EAAE,OACP6N,kBAAiBX,EAAI5E,aACrBtC,MAAO,2BAA6ByH,EAAW,gBAAkB,IACjEK,aAAc,SAACxG,GAAD,OAAQ0F,EAAO1F,EAAI,kBAAMxQ,EAAMiX,YAAYnM,KAAM0L,EAAI1L,KAAM2I,MAAOgD,EAAUjG,UAC1F0G,WAAY,SAAC1G,GAAD,OAAQxQ,EAAMiX,YAAYnM,KAAM0L,EAAI1L,KAAM2I,MAAOgD,EAAUjG,QACvE2C,QAAS,SAAC3C,GAAD,OAAQxQ,EAAMmX,UAAUrM,KAAM0L,EAAI1L,KAAM2I,MAAOgD,EAAUjG,QAClE4G,cAAe,SAAC5G,GAAD,OAAQxQ,EAAMoX,eAAetM,KAAM0L,EAAI1L,KAAM2I,MAAOgD,EAAUjG,QAC7E3E,SAAU,SAACmI,GAAD,OAAQhU,EAAM6L,UAAUf,KAAM0L,EAAI1L,KAAM2I,MAAOgD,EAAUzC,SAClE3K,IAlBQ,CA4BmCoK,QAGhD,OAAOvK,EAAE,OACPgG,MAAO,6BACPrD,SAAU,SAAAtN,GAAE,OAAKyV,EAAGqD,UAAYrX,EAAMqX,WACtCjL,SAAU,SAAA7N,GACJyB,EAAM4W,cAAgB,IACxB5C,EAAGqD,UAAYrX,EAAMqX,aAGxBrX,EAAM0W,QAAQ7M,IAAI,SAAC1M,EAAGL,GAAJ,OAAUoY,EAAKpY,EAAGK,MAKpBma,CAAWpH,EAAclQ,GAAQ,WAEzCuX,GACXC,UAAW,SAACnP,EAAOoB,GACjB,IAAMgO,EAAWja,OAAO8R,QACtBoH,WACAJ,QACAa,SAAU,SAAAnZ,GAAuB,IAArB8M,EAAqB9M,EAArB8M,KAAM2I,EAAezV,EAAfyV,MAAOjD,EAAQxS,EAARwS,GACvB/G,EAAQiO,QAAQ5M,OAAM2I,QAAOjD,OAC7B/G,EAAQkO,iBAAiBlE,IAE3BwD,WAAY,SAAAjZ,GAAuB,IAArB8M,EAAqB9M,EAArB8M,KAAM2I,EAAezV,EAAfyV,MAAOjD,EAAQxS,EAARwS,GACzB/G,EAAQmO,UAAU9M,OAAM2I,QAAOjD,OAC/B/G,EAAQkO,kBAAkB,IAE5BP,cAAe,SAAApZ,GAAuB,IAArB8M,EAAqB9M,EAArB8M,KAAM2I,EAAezV,EAAfyV,MAAOjD,EAAQxS,EAARwS,GAC5B/G,EAAQiO,QAAQ5M,OAAM2I,QAAOjD,OAC7B/G,EAAQoO,aAAa/M,OAAM2I,QAAOjD,OAClC/G,EAAQkO,iBAAiBlE,IAE3B5H,SAAU,SAACvK,GACTmI,EAAQqO,QAAQxW,KAEjB+G,GAEH,OAAO,eAACrI,EAADuB,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,aAAgB4U,EAAS3Y,OAAO8R,OAAOmI,EAAUzX,MAG1DqI,MAAO,SAAArK,GAAK,OAAIR,OAAO8R,QACrBsH,eAAgB,EAChBS,UAAW,GACVhP,IAEHoB,QAAS,SAAAzL,GAAO,OAAIR,OAAO8R,QACzBoI,OAAQ,kBAAM,sBACdE,SAAU,kBAAM,sBAChBC,YAAa,kBAAM,sBACnBC,QAAS,kBAAM,sBACfC,QAAS,SAAA/Z,GAAI,OAAMsY,SACnB0B,WAAY,SAAAha,GAAO,OAAM0Y,YACzBuB,aAAc,SAAAja,GAAS,OAAI,SAAAO,GAAK,OAAM8Y,eACtCM,iBAAkB,SAAA3Z,GAAa,OAAI,SAAAO,GAAK,OAAMqY,oBAC7CnN,SC1FCyM,EAAS9F,IAEF8H,EAAgB,SAAClR,EAAOyM,EAAOzT,GAAf,OAAyB,WACpD,IAAMwR,EAAOxK,EAAMwK,OAASnU,KAAM,4BAGlC,OAAO6L,EAAE,OACPgG,MAAO,4BAHQlP,EAAM4W,gBAAkBnD,EAGS,gBAAkB,IAClEuD,aAAc,SAACxG,GAAD,OAAQ0F,EAAO1F,EAAI,kBAAMxQ,EAAMiX,YAAYnM,KAAM9D,EAAM8D,KAAM2I,QAAOjD,UAClF0G,WAAY,SAAC1G,GAAD,OAAQxQ,EAAMiX,YAAYnM,KAAM9D,EAAM8D,KAAM2I,QAAOjD,QAC/D2C,QAAS,SAAC3C,GAAD,OAAQxQ,EAAMmX,UAAUrM,KAAM9D,EAAM8D,KAAM2I,QAAOjD,QAC1D4G,cAAe,SAAC5G,GAAD,OAAQxQ,EAAMoX,eAAetM,KAAM9D,EAAM8D,KAAM2I,QAAOjD,QACrE3E,SAAU,SAACmI,GAAD,OAAQhU,EAAM6L,UAAUf,KAAM9D,EAAM8D,KAAM2I,QAAOO,UAE3D9K,EAAE,OAAQgG,MAAO,oBACfhG,EAAE,OAAQgG,MAAO,gBACfhG,EAAE4G,EAAM0B,KAEVtI,EAAE,OAAQgG,MAAO,gBACfhG,EAAE,UAAYlC,EAAMyK,eAMf0G,EAAW,SAACnY,GACvB,IAAMuR,EAAQrI,EAAE,OACdgG,MAAO,6BACPrD,SAAU,SAAAtN,GAAE,OAAKyV,EAAGqD,UAAYrX,EAAMqX,WACtCjL,SAAU,SAAA7N,GACJyB,EAAM4W,cAAgB,IACxB5C,EAAGqD,UAAYrX,EAAMqX,aAGxBrX,EAAMoY,QAAQvO,IAAI,SAAC7C,EAAOyM,GAC3B,OAAOvK,EAAEgP,EAAclR,EAAOyM,EAAOzT,OAGvC,OAAOkJ,EAAE8F,EAASxR,OAAO8R,QACvBJ,MAAO,sBACNlP,EAAMqR,SAAYE,IAGV8G,GACXb,UAAW,SAACnP,EAAOoB,GACjB,IAAMgO,EAAWja,OAAO8R,QACtB8I,WACAjB,SAAU,SAAAnZ,GAAuB,IAArB8M,EAAqB9M,EAArB8M,KAAM2I,EAAezV,EAAfyV,MAAOjD,EAAQxS,EAARwS,GACvB/G,EAAQiO,QAAQ5M,OAAM2I,QAAOjD,OAC7B/G,EAAQkO,iBAAiBlE,IAE3BwD,WAAY,SAAAjZ,GAAuB,IAArB8M,EAAqB9M,EAArB8M,KAAM2I,EAAezV,EAAfyV,MAAOjD,EAAQxS,EAARwS,GACzB/G,EAAQmO,UAAU9M,OAAM2I,QAAOjD,OAC/B/G,EAAQkO,kBAAkB,IAE5BP,cAAe,SAAApZ,GAAuB,IAArB8M,EAAqB9M,EAArB8M,KAAM2I,EAAezV,EAAfyV,MAAOjD,EAAQxS,EAARwS,GAC5B/G,EAAQiO,QAAQ5M,OAAM2I,QAAOjD,OAC7B/G,EAAQoO,aAAa/M,OAAM2I,QAAOjD,OAClC/G,EAAQkO,iBAAiBlE,IAE3B5H,SAAU,SAACvK,GACTmI,EAAQqO,QAAQxW,KAEjB+G,GAEH,OAAO,eAACrI,EAADuB,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,aAAgB4W,EAAS3a,OAAO8R,OAAOmI,EAAUzX,MAG1DqI,MAAO,SAAArK,GAAK,OAAIR,OAAO8R,QACrBsH,eAAgB,EAChBS,UAAW,GACVhP,IAEHoB,QAAS,SAAAzL,GAAO,OAAIR,OAAO8R,QACzBoI,OAAQ,kBAAM,sBACdE,SAAU,kBAAM,sBAChBC,YAAa,kBAAM,sBACnBC,QAAS,kBAAM,sBACfQ,WAAY,SAAAta,GAAO,OAAI,kBAAQoa,aAC/BH,aAAc,SAAAja,GAAS,OAAI,SAAAO,GAAK,OAAM8Y,eACtCM,iBAAkB,SAAA3Z,GAAa,OAAI,SAAAO,GAAK,OAAMqY,oBAC7CnN,SC5EQ8O,EAAQ,SAACvY,EAAOqJ,GAAR,OACnBH,EAAE,OACAgG,MAAO,0BACP5B,OACEyE,MAAO/R,EAAM+R,MAAQC,OAAOhS,EAAM+R,OAAS,YAC3CyG,OAAQxY,EAAMwY,OAASxG,OAAOhS,EAAMwY,QAAU,eAGhDtP,EAAE,OACAuP,IAAKzY,EAAMyY,IACX1G,MAAO/R,EAAM+R,MACbyG,OAAQxY,EAAMwY,OACdE,OAAQ1Y,EAAM0Y,OACd7M,SAAU7L,EAAM6L,SAChBO,SAAUpM,EAAMoM,SAChB2B,UAAW/N,EAAM+N,eCrBjB4K,EAAS,SAAA3a,GAAC,gBAAWmW,QAAqBA,GAgBnCyE,EAAQ,SAAC5Y,EAAOqJ,GAAR,OACnBH,EAAE,OACAgG,MAAO,0BACP5B,OACEyE,MAAO/R,EAAM+R,MAAQC,OAAOhS,EAAM+R,OAAS,YAC3CyG,OAAQxY,EAAMwY,OAASxG,OAAOhS,EAAMwY,QAAU,eAGhDtP,EAAE,SACAuP,IAAKzY,EAAMyY,IACX1G,MAAO/R,EAAM+R,MACbyG,OAAQxY,EAAMwY,OACdK,OAAQ7Y,EAAM6Y,OACdC,KAAM9Y,EAAM8Y,KAAO,cACnBC,MAAO/Y,EAAM+Y,MAAQ,eACrBC,SAAUL,EAAO3Y,EAAMgZ,UAAY,kBACnCC,SAAUN,EAAO3Y,EAAMiZ,UAAY,kBACnCC,aAAclZ,EAAM0Y,OACpB7M,SAAU7L,EAAM6L,SAChBO,SAAUpM,EAAMoM,SAChB2B,UAAW/N,EAAM+N,WAtCP,SAAA/P,GAAI,OAAImb,EAAKtP,IAAI,SAAA7L,GAAI,OAAIkL,EAAE,SAAU0K,KAArC,CAuCD5T,EAAMoZ,iBC3Bf1P,EAAOmK,GACX+C,cAAe,IAEfe,iBAAkB,SAAA3Z,GAAa,OAAI,SAAAO,GAAK,OAAMqY,oBAC7C,SAACvO,EAAOoB,GAAR,OAAoB,SAACzJ,EAAOqJ,GAAR,OAAqBH,EAAE,OAC5CgG,MAAO,0BAEPhG,EAAE,OAAQgG,MAAO,wBAlBH,SAACmK,EAAQhR,EAAOoB,GAAhB,OAA6B4P,OAC1CxP,IAAI,SAAC4H,EAAOgC,GAAR,OAAkBvK,EAAE,OACvBgG,MAAO7G,EAAMuO,gBAAkBnD,EAAQ,eAAiB,GACxDN,QAAS,SAAAnV,GAAE,OAAIyL,EAAQkO,iBAAiBlE,KACvCvK,EAAE,UAAYuI,MAJH,CAkBoCzR,EAAMqZ,OAAQhR,EAAOoB,IACvEP,EAAE,OAAQgG,MAAO,uBAbL,SAAC7G,EAAOgB,GAAR,OAAqBA,EAChCQ,IAAI,SAAC6I,EAAOe,GAAR,OAAkBvK,EAAE,OACvBgG,MAAO7G,EAAMuO,gBAAkBnD,EAAQ,eAAiB,IACvDf,KAHS,CAamCrK,EAAOgB,QACpD,OAQSiQ,EAAO,SAACtZ,EAAOqJ,GAAR,OAAqBH,EAAEQ,EAAMlM,OAAO8R,QACtDJ,MAAO,2BAA6BlP,EAAMkP,OAAS,KAClDlP,GAAQqJ,ICxBEkQ,EAAS,SAACvZ,GAAD,IAAQqJ,EAAR9H,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,aACpB2H,EAAE8F,EAASxR,OAAO8R,UAAWtP,EAAMqR,SACjCnC,OAAQ,kBAAmBlP,EAAMkP,UAEjChG,EAAE,SAAU1L,OAAO8R,QACjBkK,YAAa,GACZtJ,EAAclQ,GAAQ,WAL1BkL,WAMI7B,MCRMoQ,EAAY,eAACzZ,EAADuB,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,aAAAA,UAAAtB,OAAA,YAAAsB,UAAA,IAAAA,UAAA,GACvBoP,EAAY,aAAc3Q,GACxB0Z,aAAc,MACdC,YAAa,MACbC,eAAgB,MAChBC,WAAY,QACZtT,KAAM,QACL,SAAC2K,GAAD,OAAgBhI,EAAE,QAASgI,MCPnB4I,EAAgB,eAAC9Z,EAADuB,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,MAAa8H,EAAb9H,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,aAC3BoP,EAAY,iBAAkB3Q,GAC5BsW,KAAM,GACL,SAACpF,GAAD,OAAgBhI,EAAE,WAAYgI,EAAY7H,MCHlC0Q,EAAc,WAA+B,IAA9B/Z,EAA8BuB,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,MAAlB8H,EAAkB9H,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,MAClDyY,EAAUxc,OAAO0H,KAAKlF,EAAMga,aAC/BzK,OAAO,SAACtK,EAAQ5G,GAKf,OAJA4G,EAAOE,KAAK+D,EAAE,UACZnL,MAAOM,EACPsY,SAAU3W,EAAM3B,MAAQ2B,EAAMga,QAAQ3b,IACrC2B,EAAMga,QAAQ3b,KACV4G,OASX,OAAO0L,EAAY,eAAgB3Q,GACjC4W,sBANmB,SAAA5Y,GAAU,OAAIkL,EAAE,SAAWA,EAAE,SAAUgI,EAAXyC,IAC5CqG,GAD4CrG,WAE5CtK,OAHY,SAAArL,GAAE,OAAKwS,EAAGzQ,OAAOhC,MAAOyS,EAAGzQ,OAAOka,gBCVxCC,EAAc,eAACla,EAADuB,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,MAAa8H,EAAb9H,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,aACzBoP,EAAY,eAAgB3Q,GAC1BuG,KAAM,WACNqM,YACC,SAAC1B,GAAD,OAAgBhI,EAAE,YAGnBA,EAAE,QAASgI,GACXhI,EAAE,QACAgG,MAAO,sBAEThG,EAAE,QACAgG,MAAO,sBAEPlP,EAAMyR,OAAS,IAHhBvG,WAII7B,QAEH,SAAA9K,GAAE,OAAoB,UAAfyB,EAAMuG,KACb4T,KAAKC,MAAM5J,EAAGzQ,OAAOhC,SACnByS,EAAGzQ,OAAO6S,YCnBLyH,EAAa,eAACra,EAADuB,UAAAtB,OAAA,YAAAsB,UAAA,GAAAA,UAAA,aAAAA,UAAAtB,OAAA,YAAAsB,UAAA,IAAAA,UAAA,GACxBoP,EAAY,cAAe3Q,GACzBuG,KAAM,SACL,SAAC2K,GAAD,OAAgBhI,EAAE,QAASgI,0EC2DnBoJ,GAAb,WAEE,SAAAtc,EAAYuc,GAAMC,aAChBnZ,KAAKkZ,KAAOA,EACZlZ,KAAKoZ,SAAW,aAChBpZ,KAAKoI,QAAU,KALnB,OAAAiR,KAAA1c,IAAAK,IAAA,UAAAN,MAAA,WASIsD,KAAKoZ,SAAW,KAChBpZ,KAAKoI,QAAU,QAVnBpL,IAAA,OAAAN,MAAA,WAgBS,IACD4c,EADCpc,EAAA8C,KAGLA,KAAKoI,QAAUD,GACb4I,WACAgB,QACAd,UACED,IAAK,EACLE,KAAM,KAGRqI,MAAO,SAAC5G,GAAD,OAAQ,SAAApW,GACb,IAAMid,EAAOC,EAAKP,KAAKQ,MAEvBtK,aAAakK,GACb,IAAMK,EArEI,SAACH,EAAM7G,EAAIiH,GAC3B,IAAMhW,KACAiW,EAASD,EAAgB5I,IAAM2B,EAAGqB,aAClC8F,EAAQF,EAAgB1I,KAAOyB,EAAGoB,YAClCgG,EAAOP,EAAKxF,aAAe4F,EAAgB5I,IAC3CgJ,EAAOR,EAAKzF,YAAc6F,EAAgB1I,KAC1C+I,EAAgBH,EAAQN,EAAKzF,YAC7BmG,EAAiBL,EAASL,EAAKxF,aAUrC,OARIkG,IACFtW,EAAOoN,IAAMwI,EAAKxF,aAAerB,EAAGqB,aAAe+F,GAGjDE,IACFrW,EAAOsN,KAAOsI,EAAKzF,YAAcpB,EAAGqB,aAAegG,GAG7CE,GAAkBD,EAAiBrW,EAAS,KAjBpC,CAqEoB4V,EAAM7G,EAAIhU,EAAMsS,UAC9C,OAAI0I,GACM1I,SAAU0I,QAKtB/H,OAAQ,SAACzC,GAAD,OAAQ,SAAA5S,GACd6S,aAAakK,GACbA,EAAe7N,WAAW,kBAxGb,SAAC+N,EAAMrK,GAC1B,IAAIgC,EAAKhC,EAAGzQ,OAAOyb,cAAc,MAC5BhJ,IAKDA,EAAGiJ,UAAUC,SAAS,6BACxBlJ,EAAKA,EAAGgB,WAAWA,YAGhBhB,GAAOA,EAAGmJ,eAIfnJ,EAAGiJ,UAAUG,OAAO,eAEPpJ,EAAGqJ,wBACPV,MAAQN,EAAKzF,aACpB5C,EAAGiJ,UAAUK,IAAI,iBAnBA,CAwGgChB,EAAKP,KAAKQ,MAAOvK,IAAK,KAErEuL,KAAM,SAACC,GAAD,OAAa,SAAAjd,GAAS,IACrBqU,EAAkB4I,EAAlB5I,KAAMd,EAAY0J,EAAZ1J,SACX,GAAIA,aAAoB2J,MACtB3J,GAAYC,KAAMD,EAAS0C,QAAS3C,IAAKC,EAAS2C,cAC7C,GAAI3C,aAAoBtD,QAAS,CACtC,IAAMqC,EAAMiB,EAASuJ,wBACrBvJ,GACEC,KAAMlB,EAAIkB,KACVF,IAAKhB,EAAIgB,IAAMhB,EAAImH,QAYvB,OARAsC,EAAKL,SAAW,WACVuB,EAAQvB,UACVuB,EAAQvB,SAARuB,QAAOza,WAGTuZ,EAAKrR,QAAQyS,SAGP9J,WAAegB,OAAMd,cAE/B4J,KAAM,kBAAM,SAAAle,GAGV,OAFA8c,EAAKL,SAAW,MAERrI,eAlFH,SAAApU,GAAQ,OAAI,SAACgC,EAAOyJ,GAAR,OAAoBP,EAAE+I,GAC7CK,SAAUtS,EAAMsS,SAChBF,QAASpS,EAAMoS,QACfgB,KAAMpT,EAAMoT,KACZD,QAASsH,EACTxH,OAAQxJ,EAAQwJ,OAChB7G,SAAU,SAAApO,GAAE,OAAIyL,EAAQmR,MAAM5G,IAC9BnI,SAAU,SAAA7N,GAAE,OAAIyL,EAAQmR,MAAM5G,OAPnB,CAoFD,WACD8G,EAAKP,KAAK4B,WACTrB,EAAKL,UACPK,EAAKL,SAALK,QAAIvZ,aAGNF,KAAKkZ,KAAKQ,UA3ElB1c,IAAA,OAAAN,MAAA,WAiFgB,IAAAC,EACZ,OAAOqD,KAAKoI,SAAU2S,OAAK3S,SAAQsS,KAAbK,mBAA6B,QAlFvD/d,IAAA,OAAAN,MAAA,WAwFgB,IAAAC,EACZ,OAAOqD,KAAKoI,SAAU4S,OAAK5S,SAAQyS,KAAbG,mBAA6B,SAzFvDre,EAAA,GCjEMse,GAAyB,SAAAte,GAC7B,IAAM+B,EAASyQ,EAAGzQ,OACdwc,EAA6B,aAAnBxc,EAAOyc,QAKrB,OAJKD,GAA8B,UAAnBxc,EAAOyc,UACrBD,GAA4E,KAAjE,OAAQ,WAAY,SAAU,SAASja,QAAQvC,EAAOwG,OAG5DgW,GAQIE,GAAb,WAEE,SAAAze,EAAYuc,GAAMC,aAChBnZ,KAAKkZ,KAAOA,EACZlZ,KAAKwW,YAAc,IAAIyC,GAAYC,GAJvC,OAAAG,KAAA1c,IAAAK,IAAA,UAAAN,MAAA,WAQI,IAAMqV,EAAO1H,SAASgR,eAAe,qBACjCtJ,GACFA,EAAKwI,SAGPva,KAAKwW,YAAY8E,aAbrBte,IAAA,OAAAN,MAAA,eAAAC,EAAA4e,IAAAC,EAAA3I,EAAA7P,KAAA,SAAArG,IAAA,IAAAO,EAAAQ,EAAAsC,KAAA,OAAAwb,EAAA3I,EAAAhR,KAAA,SAAAlF,GAAA,cAAAA,EAAAyH,KAAAzH,EAAAgH,MAAA,OAiBU8X,GACJf,KAAM,eAAA/d,EAAA,OAAa+e,IAAKlF,aAAYkE,KAAjBgB,oBACnBb,KAAM,eAAAle,EAAA,OAAagf,IAAKnF,aAAYqE,KAAjBc,qBAGrB3b,KAAKkZ,KAAK5a,SAAS,mBAAoB,WACrC,OAAI4B,UAAKtB,OACA6c,EAAef,KAAfe,QAAcvb,WAGhBub,IAGTzb,KAAKkZ,KAAKQ,MAAMtN,iBAAiB,cAAe,SAAC+C,GAC3C8L,GAAuB9L,KAI3BA,EAAGyM,kBACHzM,EAAGE,oBApCT,wBAAA1S,EAAAoI,SAAApI,EAAAqD,SAAA,yBAAArD,EAAAwD,MAAAH,KAAAE,YAAA,KAAAlD,IAAA,QAAAN,MAAA,WAwCU,IAAAC,EAAAqD,KACNA,KAAKkZ,KAAKQ,MAAMtN,iBAAiB,QAAS,SAAC+C,IAC5B9E,SAASgR,eAAe,qBACpBhB,SAASlL,EAAGzQ,SAEjBmd,EAAKrF,aACfqF,EAAKrF,YAAYqE,YAIrB7a,KAAKwW,YAAYrD,WAlDrBxW,EAAA,GClDAtB,imCCAA,IAAAygB,EAAqBzgB,EAAQ,GAE7B0gB,EAA2B1gB,EAAQ,GAEnC2gB,EAAsB3gB,EAAQ,GAM9BG,EAAAD,QAJA,SAAAyC,EAAAvC,GACA,OAAAqgB,EAAA9d,IAAA+d,EAAA/d,EAAAvC,IAAAugB,sBCPA,IAAApe,EAAwBvC,EAAQ,GAEhCyC,EAAsBzC,EAAQ,GAE9B0C,EAAwB1C,EAAQ,GAMhCG,EAAAD,QAJA,SAAAyC,GACA,OAAAJ,EAAAI,IAAAF,EAAAE,IAAAD,qDCGAvC,EAAAD,QAVA,SAAAyC,GACA,GAAAsC,MAAAC,QAAAvC,GAAA,CACA,QAAAvC,EAAA,EAAA+E,EAAA,IAAAF,MAAAtC,EAAAY,QAAiDnD,EAAAuC,EAAAY,OAAgBnD,IACjE+E,EAAA/E,GAAAuC,EAAAvC,GAGA,OAAA+E,mBCFAhF,EAAAD,QAJA,SAAAkF,GACA,GAAAjE,OAAA2B,YAAAhC,OAAAsE,IAAA,uBAAAtE,OAAAkB,UAAAqD,SAAA9E,KAAA6E,GAAA,OAAAH,MAAAK,KAAAF,mBCGAjF,EAAAD,QAJA,WACA,UAAAiD,UAAA,mECGAhD,EAAAD,QAJA,SAAAyC,GACA,GAAAsC,MAAAC,QAAAvC,GAAA,OAAAA,kBCyBAxC,EAAAD,QA1BA,SAAAyC,EAAAvC,GACA,IAAAwgB,KACAC,GAAA,EACAC,GAAA,EACAC,OAAA/b,EAEA,IACA,QAAAgc,EAAAC,EAAAte,EAAAxB,OAAA2B,cAA6C+d,GAAAG,EAAAC,EAAA3Y,QAAAhE,QAC7Csc,EAAAnY,KAAAuY,EAAA3f,QAEAjB,GAAAwgB,EAAArd,SAAAnD,GAH4EygB,GAAA,IAKzE,MAAA9b,GACH+b,GAAA,EACAC,EAAAhc,EACG,QACH,IACA8b,GAAA,MAAAI,EAAA,QAAAA,EAAA,SACK,QACL,GAAAH,EAAA,MAAAC,GAIA,OAAAH,kBCnBAzgB,EAAAD,QAJA,WACA,UAAAiD,UAAA,4FCDAhD,EAAAD,QAAiBF,EAAAkC,EAAuB,wDCAxC/B,EAAAD,QAAiBF,EAAAkC,EAAuB,wDCAxC/B,EAAAD,QAAiBF,EAAAkC,EAAuB,wDCAxC/B,EAAAD,QAAiBF,EAAAkC,EAAuB,wDCAxC/B,EAAAD,QAAiBF,EAAAkC,EAAuB,wDCAxC/B,EAAAD,QAAiBF,EAAAkC,EAAuB,wDCAxC/B,EAAAD,QAAiBF,EAAAkC,EAAuB,wDCAxC/B,EAAAD,QAAiBF,EAAAkC,EAAuB,wDCAxC/B,EAAAD,QAAiBF,EAAAkC,EAAuB,sHCAjC,SAAAsK,EAAA7L,EAAA8L,GAKP,IAJA,IAAAC,KACAC,KACApJ,EAAAsB,UAAAtB,OAEAA,KAAA,GAAAmJ,EAAAjE,KAAA5D,UAAAtB,IAEA,KAAAmJ,EAAAnJ,QAAA,CACA,IAAAqJ,EAAAF,EAAA/D,MACA,GAAAiE,KAAAjE,IACA,IAAApF,EAAAqJ,EAAArJ,OAAgCA,KAChCmJ,EAAAjE,KAAAmE,EAAArJ,SAEK,MAAAqJ,IAAA,IAAAA,IAAA,IAAAA,GACLD,EAAAlE,KAAAmE,GAIA,yBAAAjM,EACAA,EAAA8L,MAA2BE,IAE3BE,SAAAlM,EACA8L,iBACAE,WACAhL,IAAA8K,KAAA9K,KAIO,SAAAmL,EAAAnB,EAAAoB,EAAAC,EAAAC,GACP,IAIAC,EAJAC,SACAC,EAAAH,KAAAN,SAAA,SACAU,EAAAD,GAWA,SAAAE,EAAAC,GACA,OACAV,SAAAU,EAAAV,SAAAW,cACAf,cACAE,SAAAQ,EAAA5M,KAAAgN,EAAAE,WAAA,SAAAF,GACA,WAAAA,EAAAG,SACAH,EAAAI,UACAL,EAAAC,MAlBAD,CAAAF,GACAQ,KAEAC,GAAA,EACAC,EAAAC,EAAApC,GACAqC,EA4EA,SAAAC,EAAAC,EAAAvC,EAAAoB,GACA,QAAApL,KAAAoL,EACA,mBAAAA,EAAApL,GACA,SAAAA,EAAAwM,GACApB,EAAApL,GAAA,SAAAyM,GACA,IAAA7F,EAAA4F,EAAAC,GAoBA,MAlBA,mBAAA7F,IACAA,IAAA8F,EAAAH,EAAAJ,GAAAf,IAIAxE,GACAA,KAAAoD,EAAA0C,EAAAH,EAAAJ,MACAvF,EAAA/D,MAEA8J,EACAR,EAAAS,EACAL,EACAH,EAAApC,EAAApD,GACAuF,IAKAvF,GAtBA,CAwBW5G,EAAAoL,EAAApL,IACXsM,EACAC,EAAAM,OAAA7M,GACAgK,EAAAhK,GAAAoM,EAAApC,EAAAhK,IACAoL,EAAApL,GAAAoM,EAAAhB,EAAApL,KAIA,OAAAoL,EA/GAkB,IAAAH,EAAAC,EAAAhB,IAIA,OAFAuB,IAEAN,EAcA,SAAAS,EAAA7B,GACA,yBAAAA,EACA6B,EAAA7B,EAAAkB,EAAAE,IACA,MAAApB,EACAA,EACA,GAGA,SAAA8B,IACAxB,KAEA,IAAAN,EAAA6B,EAAAzB,GAQA,IANAC,IAAAC,IACAE,EA0OA,SAAAuB,EAAAC,EAAArB,EAAAF,EAAAT,EAAAiC,GACA,GAAAjC,IAAAS,QACK,SAAAA,KAAAR,WAAAD,EAAAC,SAAA,CACL,IAAAiC,EA5FA,SAAAC,EAAAnC,EAAAiC,GACA,IAAAtB,EACA,iBAAAX,GAAA,iBAAAA,EACAoC,SAAAC,eAAArC,IACAiC,KAAA,QAAAjC,EAAAC,UACAmC,SAAAE,gBACA,6BACAtC,EAAAC,UAEAmC,SAAAD,cAAAnC,EAAAC,UAEA,IAAAJ,EAAAG,EAAAH,WACA,GAAAA,EAAA,CACAA,EAAA0C,UACAvB,EAAAnF,KAAA,WACAgE,EAAA0C,SAAA5B,KAIA,QAAAnN,EAAA,EAAqBA,EAAAwM,EAAAD,SAAApJ,OAA0BnD,IAC/CmN,EAAA6B,YACAL,EACAnC,EAAAD,SAAAvM,GAAAqO,EAAA7B,EAAAD,SAAAvM,IACAyO,IAKA,QAAAlO,KAAA8L,EACA4C,EAAA9B,EAAA5M,EAAA8L,EAAA9L,GAAA,KAAAkO,GAIA,OAAAtB,EA2DAwB,CAAAnC,EAAAiC,GACAD,EAAAU,aAAAR,EAAAvB,GAEA,MAAAF,GACAkC,EAAAX,EAAArB,EAAAF,GAGAE,EAAAuB,OACK,SAAAzB,EAAAR,SACLU,EAAAI,UAAAf,MACK,EAlEL,SAAAW,EAAAiC,EAAA/C,EAAAoC,GACA,QAAAlO,KAAAoN,EAAAyB,EAAA/C,GAEAA,EAAA9L,MACA,UAAAA,GAAA,YAAAA,EACA4M,EAAA5M,GACA6O,EAAA7O,KAEA0O,EACA9B,EACA5M,EACA8L,EAAA9L,GACA6O,EAAA7O,GACAkO,GAKA,IAAAY,EAAA5B,EAAApB,EAAA0C,SAAA1C,EAAAiD,SACAD,GACA7B,EAAAnF,KAAA,WACAgH,EAAAlC,EAAAiC,KA8CA0R,CACA3T,EACAF,EAAAZ,WACAG,EAAAH,WACAoC,KAAA,QAAAjC,EAAAC,UASA,IANA,IAAA8C,KACAC,KACAC,KACAC,EAAAzC,EAAAV,SACAA,EAAAC,EAAAD,SAEAvM,EAAA,EAAqBA,EAAA0P,EAAAvM,OAAwBnD,IAAA,CAC7CyP,EAAAzP,GAAAmN,EAAAE,WAAArN,GAEA,IAAA2P,EAAAC,EAAAF,EAAA1P,IACA,MAAA2P,IACAJ,EAAAI,IAAAF,EAAAzP,GAAA0P,EAAA1P,KAOA,IAHA,IAAAA,EAAA,EACA6P,EAAA,EAEAA,EAAAtD,EAAApJ,QAAA,CACA,IAAAwM,EAAAC,EAAAF,EAAA1P,IACA8P,EAAAF,EAAArD,EAAAsD,GAAAxB,EAAA9B,EAAAsD,KAEA,GAAAL,EAAAG,GACA3P,SAIA,SAAA8P,OAAAF,EAAAF,EAAA1P,EAAA,IAQA,SAAA8P,GAAArC,EACA,MAAAkC,IACApB,EAAApB,EAAAsC,EAAAzP,GAAA0P,EAAA1P,GAAAuM,EAAAsD,GAAApB,GACAoB,KAEA7P,QACS,CACT,IAAA+P,EAAAR,EAAAO,OAEAH,IAAAG,GACAvB,EAAApB,EAAA4C,EAAA,GAAAA,EAAA,GAAAxD,EAAAsD,GAAApB,GACAzO,KACW+P,EAAA,GACXxB,EACApB,EACAA,EAAA+B,aAAAa,EAAA,GAAAN,EAAAzP,IACA+P,EAAA,GACAxD,EAAAsD,GACApB,GAGAF,EAAApB,EAAAsC,EAAAzP,GAAA,KAAAuM,EAAAsD,GAAApB,GAGAe,EAAAM,GAAAvD,EAAAsD,GACAA,SAhCA,MAAAF,GACAR,EAAAhC,EAAAsC,EAAAzP,GAAA0P,EAAA1P,IAEAA,IAiCA,KAAAA,EAAA0P,EAAAvM,QACA,MAAAyM,EAAAF,EAAA1P,KACAmP,EAAAhC,EAAAsC,EAAAzP,GAAA0P,EAAA1P,IAEAA,IAGA,QAAAA,KAAAuP,EACAC,EAAAxP,IACAmP,EAAAhC,EAAAoC,EAAAvP,GAAA,GAAAuP,EAAAvP,GAAA,IAIA,OAAAmN,EA5UAoB,CAAA1B,EAAAG,EAAAC,IAAAT,IAGAiB,GAAA,EAEAD,EAAArK,QAAAqK,EAAAjF,KAAAiF,GAGA,SAAAU,IACApB,IACAA,GAAA,EACAkD,WAAA1B,IAIA,SAAAX,EAAA1K,EAAAgN,GACA,IAAAC,KAEA,QAAAlQ,KAAAiD,EAAAiN,EAAAlQ,GAAAiD,EAAAjD,GACA,QAAAA,KAAAiQ,EAAAC,EAAAlQ,GAAAiQ,EAAAjQ,GAEA,OAAAkQ,EAGA,SAAA/B,EAAAL,EAAA7M,EAAAgP,GACA,IAAAhN,KACA,OAAA6K,EAAA3K,QACAF,EAAA6K,EAAA,IACAA,EAAA3K,OAAA,EACAgL,EAAAL,EAAAzE,MAAA,GAAApI,EAAAgP,EAAAnC,EAAA,KACA7M,EACA0M,EAAAsC,EAAAhN,IAEAhC,EAGA,SAAAgN,EAAAH,EAAAmC,GAEA,IADA,IAAAjQ,EAAA,EACAA,EAAA8N,EAAA3K,QACA8M,IAAAnC,EAAA9N,MAEA,OAAAiQ,EAyCA,SAAAL,EAAApD,GACA,OAAAA,IAAAjL,IAAA,KAGA,SAAA4O,EAAAC,GACA,OAAAA,EAAAC,cAAAC,OAAAF,EAAA3G,MAAA2G,GAGA,SAAAnB,EAAA9B,EAAA5M,EAAAU,EAAAsP,EAAA9B,GACA,WAAAlO,QACK,aAAAA,EACL,oBAAAU,EACAkM,EAAAqD,MAAAC,QAAAxP,OAGA,QAAAjB,IADA,iBAAAuQ,MAAApD,EAAAqD,MAAAC,QAAA,IACA9C,EAAA4C,EAAAtP,GAAA,CACA,IAAAuP,EAAA,MAAAvP,GAAA,MAAAA,EAAAjB,GAAA,GAAAiB,EAAAjB,GACA,MAAAA,EAAA,GACAmN,EAAAqD,MAAAE,YAAA1Q,EAAAwQ,GAEArD,EAAAqD,MAAAxQ,GAAAwQ,MAKA,MAAAjQ,EAAA,UAAAA,EAAA,IACAA,IAAA8I,MAAA,GAEA8D,EAAAmD,OACAC,MAAApD,EAAAmD,OAAA/P,IAEA4M,EAAAmD,UAGAnD,EAAAmD,OAAA/P,GAAAU,EAEAA,EACAsP,GACApD,EAAAwD,iBAAApQ,EAAA4P,GAGAhD,EAAAyD,oBAAArQ,EAAA4P,IAGA5P,KAAA4M,GACA,SAAA5M,GACA,SAAAA,GACA,cAAAA,GACA,eAAAA,GACA,cAAAA,IACAkO,EAEAtB,EAAA5M,GAAA,MAAAU,EAAA,GAAAA,EACO,MAAAA,IAAA,IAAAA,GACPkM,EAAA0D,aAAAtQ,EAAAU,GAGA,MAAAA,IAAA,IAAAA,GACAkM,EAAA2D,gBAAAvQ,GAiFA,SAAA4O,EAAAX,EAAArB,EAAAX,GACA,SAAAtI,IACAsK,EAAAuC,YAhBA,SAAAC,EAAA7D,EAAAX,GACA,IAAAH,EAAAG,EAAAH,WACA,GAAAA,EAAA,CACA,QAAArM,EAAA,EAAqBA,EAAAwM,EAAAD,SAAApJ,OAA0BnD,IAC/CgR,EAAA7D,EAAAE,WAAArN,GAAAwM,EAAAD,SAAAvM,IAGAqM,EAAA4E,WACA5E,EAAA4E,UAAA9D,GAGA,OAAAA,EAKA6D,CAAA7D,EAAAX,IAGA,IAAA6C,EAAA7C,EAAAH,YAAAG,EAAAH,WAAA6E,SACA7B,EACAA,EAAAlC,EAAAjJ,GAEAA,gBCnQa6c,GACXC,SACErM,MAAO,SACPD,KAAMtS,EAAQ,KAGhB6e,QACEtM,MAAO,SACPD,KAAMtS,EAAQ,IAEd8e,UAAW,SAAAC,GAA4C,IAA1C/J,EAA0C+J,EAA1C/J,EAAG1D,EAAuCyN,EAAvCzN,GAAI0N,EAAmCD,EAAnCC,MAAOvX,EAA4BsX,EAA5BtX,QAASoL,EAAmBkM,EAAnBlM,MAAOyG,EAAYyF,EAAZzF,OACnC2F,EAAKC,SAASF,EAAMG,EAAG,IACvBC,EAAKF,SAASF,EAAMK,EAAG,IACvBzT,EAAOnE,EAAQ6X,aAAa,EAAG,EAAGzM,EAAOyG,GAAQ1N,KACjD2I,EAA4B,GAAnB0K,EAAKG,EAAKvM,GAEnB0M,EAzBK,SAAC7gB,EAAGqE,EAAG8T,GAAP,MAAa,KAC5BqI,SAASxgB,EAAG,IAAImE,SAAS,IACzBqc,SAASnc,EAAG,IAAIF,SAAS,IACzBqc,SAASrI,EAAG,IAAIhU,SAAS,KACzB8H,IAAI,SAAA6U,GAAG,OAAI1M,OAAO0M,GAAKC,SAAS,EAAG,OAAMjP,KAAK,IAqB9BkP,CACV9T,EAAK2I,EAAQ,GACb3I,EAAK2I,EAAQ,GACb3I,EAAK2I,EAAQ,GACb3I,EAAK2I,EAAQ,IAGXjD,EAAGqO,UAAYrO,EAAGsO,OAAS,EAC7B5K,EAAE6K,cAAcN,GAEhBvK,EAAE8K,cAAcP,KAKtB3J,MACErD,MAAO,OACPD,KAAMtS,EAAQ,IAEd8e,UAAW,SAAAiB,GAAwC,IAAtCzO,EAAsCyO,EAAtCzO,GAAI7J,EAAkCsY,EAAlCtY,QAASuY,EAAyBD,EAAzBC,KAAMnN,EAAmBkN,EAAnBlN,MAAOyG,EAAYyG,EAAZzG,OAC/Bxa,EAAKwS,EAAGqO,UAAYrO,EAAGsO,OAAS,EAAK,aAAe,aAC1DnY,EAAQwY,UAAYD,EAAKlhB,GACzB2I,EAAQyY,SAAS,EAAG,EAAGrN,EAAOyG,KAIlC5N,MACE6G,MAAO,OACPD,KAAMtS,EAAQ,IAEd8e,UAAW,SAAAqB,GAAyB,IAAvBH,EAAuBG,EAAvBH,KAAuBG,EAAjBC,YAELC,YAAcL,EAAKM,YAGjChK,UAAW,SAAAiK,GAAkD,IAAhDH,EAAgDG,EAAhDH,YAAapB,EAAmCuB,EAAnCvB,MAAOwB,EAA4BD,EAA5BC,QAAS3N,EAAmB0N,EAAnB1N,MAAOyG,EAAYiH,EAAZjH,OAC/C8G,EAAYK,UAAU,EAAG,EAAG5N,EAAOyG,GACnC8G,EAAYM,YACZN,EAAYO,OAAOH,EAAQrB,EAAGqB,EAAQnB,GACtCe,EAAYQ,OAAO5B,EAAMG,EAAGH,EAAMK,GAClCe,EAAYS,YACZT,EAAYU,WAIhBC,QACExO,MAAO,SACPD,KAAMtS,EAAQ,IAEd8e,UAAW,SAAAkC,GAAyB,IAAvBhB,EAAuBgB,EAAvBhB,KAAuBgB,EAAjBZ,YAELC,YAAcL,EAAKM,YAGjChK,UAAW,SAAA2K,GAAkC,IAAhCb,EAAgCa,EAAhCb,YAAa7Z,EAAmB0a,EAAnB1a,KAAMia,EAAaS,EAAbT,QAC9BJ,EAAYM,YACZN,EAAYO,OAAOpa,EAAK4Y,EAAG5Y,EAAK8Y,GAChCe,EAAYQ,OAAOJ,EAAQrB,EAAGqB,EAAQnB,GACtCe,EAAYU,SACZV,EAAYS,cAIhBK,MACE3O,MAAO,YACPD,KAAMtS,EAAQ,IAEdsW,UAAW,SAAA6K,GAA8D,IAA5DnB,EAA4DmB,EAA5DnB,KAAMI,EAAsDe,EAAtDf,YAAsBgB,GAAgCD,EAAzCX,QAAyCW,EAAhCC,MAAMpC,EAA0BmC,EAA1BnC,MAAOnM,EAAmBsO,EAAnBtO,MAAOyG,EAAY6H,EAAZ7H,OAC3D8G,EAAYK,UAAU,EAAG,EAAG5N,EAAOyG,GACnC8G,EAAYF,SAASlB,EAAMG,EAAGH,EAAMK,EAAG+B,EAAKjC,EAAGiC,EAAK/B,GAChDW,EAAKc,QACPV,EAAYiB,WAAWrC,EAAMG,EAAGH,EAAMK,EAAG+B,EAAKjC,EAAGiC,EAAK/B,KAK5DiC,QACE/O,MAAO,SACPD,KAAMtS,EAAQ,IAEdsW,UAAW,SAAAiL,GAA8D,IAA5DvB,EAA4DuB,EAA5DvB,KAAMI,EAAsDmB,EAAtDnB,YAAaI,EAAyCe,EAAzCf,QAAexB,GAA0BuC,EAAhCH,KAAgCG,EAA1BvC,OAAOnM,EAAmB0O,EAAnB1O,MAAOyG,EAAYiI,EAAZjI,OAC3D8G,EAAYK,UAAU,EAAG,EAAG5N,EAAOyG,GAEnC,IAAM3C,EAAIlE,KAAKE,IAAI6N,EAAQrB,EAAIH,EAAMG,IAAMqB,EAAQrB,EAAIH,EAAMG,GAAK,EAAI,GAChEnV,EAAIyI,KAAKE,IAAIgE,IAAM6J,EAAQnB,EAAIL,EAAMK,GAAK,EAAI,GAEpDe,EAAYF,SAASlB,EAAMG,EAAGH,EAAMK,EAAG1I,EAAG3M,GACtCgW,EAAKc,QACPV,EAAYiB,WAAWrC,EAAMG,EAAGH,EAAMK,EAAG1I,EAAG3M,KAKlDwX,MACEjP,MAAO,OACPD,KAAMtS,EAAQ,IAEdsW,UAAW,SAAAmL,GAA8D,IAA5DzB,EAA4DyB,EAA5DzB,KAAMI,EAAsDqB,EAAtDrB,YAAsBgB,GAAgCK,EAAzCjB,QAAyCiB,EAAhCL,MAAMpC,EAA0ByC,EAA1BzC,MAAOnM,EAAmB4O,EAAnB5O,MAAOyG,EAAYmI,EAAZnI,OAC3D8G,EAAYK,UAAU,EAAG,EAAG5N,EAAOyG,GAEnC8G,EAAYM,YACZN,EAAYO,OAAO3B,EAAMG,EAAGH,EAAMK,EAAa,EAAT+B,EAAK/B,GAC3Ce,EAAYsB,cACV1C,EAAMG,EAAa,EAATiC,EAAKjC,EAAOH,EAAMK,EAAa,EAAT+B,EAAK/B,EACrCL,EAAMG,EAAa,EAATiC,EAAKjC,EAAOH,EAAMK,EAAa,EAAT+B,EAAK/B,EACrCL,EAAMG,EAAGH,EAAMK,EAAa,EAAT+B,EAAK/B,GAE1Be,EAAYsB,cACV1C,EAAMG,EAAa,EAATiC,EAAKjC,EAAOH,EAAMK,EAAa,EAAT+B,EAAK/B,EACrCL,EAAMG,EAAa,EAATiC,EAAKjC,EAAOH,EAAMK,EAAa,EAAT+B,EAAK/B,EACrCL,EAAMG,EAAGH,EAAMK,EAAa,EAAT+B,EAAK/B,GAE1Be,EAAYS,YACRb,EAAKc,QACPV,EAAYU,SAEdV,EAAYxK,SAIhB+L,QACEpP,MAAO,SACPD,KAAMtS,EAAQ,IAEdsW,UAAW,SAAAsL,GAA8D,IAA5D5B,EAA4D4B,EAA5D5B,KAAMI,EAAsDwB,EAAtDxB,YAAaI,EAAyCoB,EAAzCpB,QAAexB,GAA0B4C,EAAhCR,KAAgCQ,EAA1B5C,OAAOnM,EAAmB+O,EAAnB/O,MAAOyG,EAAYsI,EAAZtI,OAC3D8G,EAAYK,UAAU,EAAG,EAAG5N,EAAOyG,GAEnC,IAAM6F,EAAI1M,KAAKE,IAAIqM,EAAMG,EAAIqB,EAAQrB,GAC/BE,EAAI5M,KAAKE,IAAIqM,EAAMK,EAAImB,EAAQnB,GAC/B3gB,EAAI+T,KAAKoP,KAAKpP,KAAKqP,IAAI3C,EAAG,GAAK1M,KAAKqP,IAAIzC,EAAG,IAE7C3gB,EAAI,IACN0hB,EAAYM,YACZN,EAAY2B,IAAI/C,EAAMG,EAAGH,EAAMK,EAAG3gB,EAAG,EAAa,EAAV+T,KAAKuP,IAAQ,GACrD5B,EAAYS,YACRb,EAAKc,QACPV,EAAYU,SAEdV,EAAYxK,WC9JPqM,EAAe,SAACpP,EAAOyG,EAAQ1G,GAC1C,IAAMsP,EAAS1V,SAASD,cAAc,UAKtC,OAJA2V,EAAOtP,UAAYA,EACnBsP,EAAOrP,MAAQA,EACfqP,EAAO5I,OAASA,GAGd4I,EACAA,EAAOC,WAAW,QCkBhBC,GACJC,OAAQ,SAAA9X,GAAO,OAtBS,SAAC+X,GAAD,QAEtBzP,MAAOyP,EAAMzP,MACbyG,OAAQgJ,EAAMhJ,SAGdiJ,SAAU,SAAA1P,GAAK,OAAI,SAAA1J,GAAK,OAAM0J,MAAOqM,SAASrM,EAAO,OACrD2P,UAAW,SAAAlJ,GAAM,OAAI,SAAAnQ,GAAK,OAAMmQ,OAAQ4F,SAAS5F,EAAQ,QAE3D,SAACnQ,EAAOoB,GAAR,OACEP,EAAE0G,gBAAeR,YAAa,eAC5BlG,EAAE,SAAW,SACbA,EAAEuQ,aAAYlT,KAAM,SAAUxI,MAAOsK,EAAM0J,MAAOjB,QAAS,SAACN,EAAIzS,GAAL,OAAe0L,EAAQgY,SAAS1jB,QAE7FmL,EAAE0G,gBAAeR,YAAa,eAC5BlG,EAAE,SAAW,UACbA,EAAEuQ,aAAYlT,KAAM,SAAUxI,MAAOsK,EAAMmQ,OAAQ1H,QAAS,SAACN,EAAIzS,GAAL,OAAe0L,EAAQiY,UAAU3jB,WAM9E4jB,CAAkBlY,EAAQmY,cCsBzCC,EAAoB,SAACtH,EAAMuH,EAAMC,EAAKC,GAC1C,IAAMC,EAAM1H,EAAK2H,KAAK,YAChBC,EDrBoB,SAAC5H,EAAMuH,EAAMC,GAAb,OAAqB,SAAC1kB,EAAMoM,EAAS0C,GAC/D,IAAMiW,EAAQd,EAAWjkB,GACzB,GAAK+kB,EAAL,CAIA,IAAMC,EAAS9H,EAAK2H,KAAK,gBAAgB9jB,QACvC0T,UAAWzU,EACXilB,SAAU,KAAM,UAChBxjB,QACEyjB,MAAOllB,EACPmlB,OAAO,EACPlX,OAAQyW,EACRU,QAAS,SACTC,WAAY3Q,MAAO,IAAKyG,OAAQ,KAChCrP,YAAaqZ,OAAO,KAErB,WACD,OAAOH,EAAO7Y,IAAImZ,YACjB,SAACC,EAAK7kB,GACK,OAAR6kB,GACFzW,EAAGpO,KAIPskB,EAAOjX,OAAO,SAAC4W,EAAUa,GAAS,IAAAC,EACiBV,EAAM3Y,GADvBsZ,EAAAC,IAAAF,EAAA,GACzBG,EADyBF,EAAA,GACXG,EADWH,EAAA,GACK1Z,EADL0Z,EAAA,GAGhCV,EAAO7Y,IAAMA,EACXhM,OAAO8R,UAAW2T,GAClBzlB,OAAO8R,QAAQqT,SAAU,kBAAM,SAAAta,GAAK,OAAIA,KAAQ6a,GAChD,SAAC7a,EAAOoB,GAAR,OAAoB4Y,EAAO/K,YACzBpO,EAAE0G,gBAAexB,KAAM,EAAGgB,YAAa,cAAe/F,EAAShB,EAAOoB,OAExEuY,GAGFa,EAAKM,YChBOC,CAAa7I,EAAMuH,EAAMC,GACjCsB,EAAc,SAACC,EAAOnX,GAAR,OAAeoO,EAAK2H,KAAK,cAAe,SAC1DoB,SACC,SAACV,EAAK7kB,GACK,OAAR6kB,GACFzW,EAAGpO,EAAM0gB,QAIP8E,EAAQhJ,EAAK2H,KAAK,yBAA0BJ,EAAMC,GACtDyB,gBAAiB,kBAGbpQ,EAAO,SAAC5C,EAAI4C,GAAL,OAAcmH,EAAK2H,KAAK,oBAAoBnG,MACvDzJ,SAAU9B,EAAGzQ,OACbqT,UAjBqDqQ,EAoB7BtC,EAxEN,IACC,IAuEiD,iBApBfuC,EAAAV,IAAAS,EAAA,GAoBhDrC,EApBgDsC,EAAA,GAoBxC/c,EApBwC+c,EAAA,GAAAC,EAqBrBxC,EAzEd,IACC,IAwEyD,eArBvByC,EAAAZ,IAAAW,EAAA,GAqBhDE,EArBgDD,EAAA,GAqBpCtE,EArBoCsE,EAAA,GAiFjDE,EAAgB,SAAC/R,EAAOyG,GAC5B4I,EAAOrP,MAAQA,EACfqP,EAAO5I,OAASA,EAChBqL,EAAW9R,MAAQA,EACnB8R,EAAWrL,OAASA,GAsBhBtE,EAAI1K,GACRgY,OACEzP,MAjKgB,IAkKhByG,OAjKiB,KAmKnB0G,MACE7hB,KAAM,UACNmiB,WAAY,UACZuE,WAAY,UACZ/D,QAAQ,EACRgE,UAAW,KAGbC,SAAU,SAAAzT,GAAE,OAAI,SAACnI,EAAOoB,GAAR,OAAoB2J,EAAK5C,EA3ItB,SAACkP,EAASjW,GAAV,QACpBgI,MAAO,MAAO0B,QAAS,kBAAM1J,EAAQya,aACrCzS,MAAO,OAAQ0B,QAAS,kBAAM1J,EAAQ0a,cACtC1S,MAAO,OAAQkB,UAAW+M,EAASvM,QAAS,kBAAM1J,EAAQ2a,cAC1D3S,MAAO,aAAc0B,QAAS,kBAAM1J,EAAQ4a,gBAC5C5S,MAAO,OAAQ0B,QAAS,kBAAM1J,EAAQ6a,cAsIQC,CAAezC,EAAKxgB,KAAKkjB,KAAM/a,MAC5Egb,UAAW,SAAAjU,GAAE,OAAI,SAACnI,EAAOoB,GAAR,OAAoB2J,EAAK5C,EAjItB,SAAA/G,GAAO,QAC5BgI,MAAO,gBAAiB0B,QAAS,kBAAM1J,EAAQib,qBAC/CjT,MAAO,gBAAiB0B,QAAS,kBAAM1J,EAAQkb,sBA+HAC,CAAgBnb,MAC9Dya,QAAS,kBAAM,kBAAMX,EAAMsB,cAC3BV,SAAU,kBAAM,kBAAMZ,EAAMuB,qBAC5BV,SAAU,kBAAM,SAAC/b,EAAOoB,GAAR,OAAoBA,EAAQsb,SAC5CV,WAAY,kBAAM,kBAAMd,EAAMyB,qBAC9BV,SAAU,kBAAM,kBAAMxC,EAAKnF,YAE3B+H,gBAAiB,kBAAM,SAACrc,EAAOoB,GAAR,OAAoB0Y,EAAM,SAAU1Y,EAAS,SAAA4V,GAAqB,IAAnBtN,EAAmBsN,EAAnBtN,MAAOyG,EAAY6G,EAAZ7G,QAxCrD,SAAAyF,GAAqB,IAAnBlM,EAAmBkM,EAAnBlM,MAAOyG,EAAYyF,EAAZzF,OAAYyM,EAC5B9D,EAAaC,EAAOrP,MAAOqP,EAAO5I,OAAQ,IADd0M,EAAAlC,IAAAiC,EAAA,GACtCE,EADsCD,EAAA,GAAAA,EAAA,GAE1CE,UAAUhE,EAAQ,EAAG,GACxB0C,EAAc/R,EAAOyG,GACrB7R,EAAQye,UAAUD,EAAI,EAAG,EAAGpT,EAAOyG,GAqCjC6M,EAAmBtT,QAAOyG,WAC1B/O,EAAQiL,SAAS3C,QAAOyG,eAG1BmM,iBAAkB,kBAAM,SAACtc,EAAOoB,GAAR,OAAoB0Y,EAAM,SAAU1Y,EAAS,SAAAgW,GAAqB,IAAnB1N,EAAmB0N,EAAnB1N,MAAOyG,EAAYiH,EAAZjH,QAtCvD,SAAAyG,GAAqB,IAAnBlN,EAAmBkN,EAAnBlN,MAAOyG,EAAYyG,EAAZzG,OAAY8M,EAC3BnE,EAAaC,EAAOrP,MAAOqP,EAAO5I,OAAQ,IADf+M,EAAAvC,IAAAsC,EAAA,GACrCH,EADqCI,EAAA,GAAAA,EAAA,GAEzCH,UAAUhE,EAAQ,EAAG,GACxB0C,EAAc/R,EAAOyG,GACrB7R,EAAQye,UAAUD,EAAI,EAAG,GAmCvBK,EAAkBzT,QAAOyG,WACzB/O,EAAQiL,SAAS3C,QAAOyG,eAG1BiN,iBAAkB,kBAAM,SAACpd,EAAOoB,GAAR,OAAoB4Z,EAAYhb,EAAM6W,KAAKM,WAAY,SAAA8D,GAC7E7Z,EAAQuV,cAAcsE,OAGxBoC,iBAAkB,kBAAM,SAACrd,EAAOoB,GAAR,OAAoB4Z,EAAYhb,EAAM6W,KAAK6E,WAAY,SAAAT,GAC7E7Z,EAAQsV,cAAcuE,OAGxBqC,WAAY,SAAAtoB,GAAI,OAAI,SAACgL,EAAQoB,GAE3BA,EAAQmc,QAAQvoB,KAGlBwoB,UAAW,SAACC,GAAD,OAAS,SAACzd,EAAOoB,GAC1B,IAAMsc,EAAM,IAAIxN,MAChBwN,EAAIrN,OAAS,YAnDM,SAAAqN,GACrBjC,EAAciC,EAAIhU,MAAOgU,EAAIvN,QAC7B7R,EAAQye,UAAUW,EAAK,EAAG,GAkDtBC,CAAeD,GACftc,EAAQiL,SAAS3C,MAAOgU,EAAIhU,MAAOyG,OAAQuN,EAAIvN,UAEjDuN,EAAItN,IAAMqN,IAGZf,KAAM,kBAAM,SAAA1c,GACNyZ,EAAKxgB,KAAKkjB,MACZpD,EAAO6E,OAAO,SAAAC,GACZjE,EAAIkE,UAAUrE,EAAKxgB,KAAKkjB,KAAM0B,GAC3Bte,MAAM,SAAA7G,GAAK,OAAIqlB,QAAQrlB,MAAMA,SAKtCslB,KAAM,SAAAzS,GAAI,OAAI,SAACvL,EAAOoB,GACpBwY,EAAI6D,IAAIlS,GACL1S,KAAK,SAAA4kB,GAAG,OAAIrc,EAAQoc,UAAUC,KAC9Ble,MAAM,SAAA7G,GAAK,OAAIqlB,QAAQrlB,MAAMA,OAGlC2T,QAAS,SAAAC,GAAI,OAAI,SAAAtM,GAAK,OAAMmZ,MAAO7M,KACnCiR,QAAS,SAAAvoB,GAAI,OAAI,SAAAgL,GAAK,OAAM6W,KAAM1hB,OAAO8R,UAAWjH,EAAM6W,MAAO7hB,YACjE2hB,cAAe,SAAAQ,GAAU,OAAI,SAAAnX,GAAK,OAAM6W,KAAM1hB,OAAO8R,UAAWjH,EAAM6W,MAAOM,kBAC7ET,cAAe,SAAAgF,GAAU,OAAI,SAAA1b,GAAK,OAAM6W,KAAM1hB,OAAO8R,UAAWjH,EAAM6W,MAAO6E,kBAC7EuC,UAAW,SAAAtG,GAAM,OAAI,SAAA3X,GAAK,OAAM6W,KAAM1hB,OAAO8R,UAAWjH,EAAM6W,MAAOc,cACrEuG,aAAc,SAAAvC,GAAS,OAAI,SAAA3b,GAAK,OAAM6W,KAAM1hB,OAAO8R,UAAWjH,EAAM6W,MAAO8E,iBAC3EwC,QAAS,kBAAM,SAAAne,GAAK,OAAIA,EAAM6W,OAC9B0C,SAAU,kBAAM,SAAAvZ,GAAK,OAAIA,EAAMmZ,SA/JpB,SAACnZ,EAAOoB,GAAR,OACXP,EAAEyG,UACAzG,EAAEwK,cACAxK,EAAEqK,eAAcJ,QAAS,SAAA3C,GAAE,OAAI/G,EAAQwa,SAASzT,KAAM,QACtDtH,EAAEqK,eAAcJ,QAAS,SAAA3C,GAAE,OAAI/G,EAAQgb,UAAUjU,KAAM,WAEzDtH,EAAEyG,OAAMvB,KAAM,EAAGE,OAAQ,EAAGc,YAAa,aACvClG,EAAEmK,WACAnE,MAAO,aACPE,YAAa,cAFduE,IA5DiB,SAAC+L,EAASjW,EAASqY,GAAnB,OAA4BtkB,OAAO0H,KAAK2Y,GAC/DhU,IAAI,SAAAxM,GAAI,OAAI6L,EAAEoI,UACbE,KAAMsQ,EAAK2E,SAAS5I,EAAMxgB,GAAMmU,MAChCC,MAAOoM,EAAMxgB,GAAMoU,MACnBiV,OAAQhH,GAAWA,EAAQriB,OAASA,EACpC8V,QAAS,kBAAM1J,EAAQkc,WAAWtoB,QA2DzBspB,CAAkBte,EAAM6W,KAAMzV,EAASqY,IAJ3C5W,QAKChC,EAAEoI,aACApI,EAAE,OACAoE,OAAQkL,OAAQ,MAAOoO,gBAAiBve,EAAM6W,KAAKM,YACnDrM,QAAS,kBAAM1J,EAAQgc,wBAG3Bvc,EAAEoI,aACApI,EAAE,OACAoE,OAAQkL,OAAQ,MAAOoO,gBAAiBve,EAAM6W,KAAK6E,YACnD5Q,QAAS,kBAAM1J,EAAQic,wBAG3Bxc,EAAEgR,eACAzI,MAAO,SACPmB,QAASvK,EAAM6W,KAAKc,OACpBjP,SAAU,SAACP,EAAIzS,GAAL,OAAe0L,EAAQ6c,UAAUvoB,MAE7CmL,EAAE6Q,eACAC,SACE6M,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,GAELlpB,MAAOsK,EAAM6W,KAAK8E,UAClBjT,SAAU,SAACP,EAAIzS,GAAL,OAAe0L,EAAQ8c,aAAaxoB,SAGlDmL,EAAE2G,aAAYX,MAAO,iBAAkBd,KAAM,GAAIlF,EAAE,OACjDgG,MAAO,YACPrD,SAAU,SAAAmI,GACRA,EAAGlI,YAAYsV,GACfpN,EAAGlI,YAAY+X,SAIrB3a,EAAEoK,gBAAe,GAAApI,OACZ7C,EAAMmZ,MAAMzP,MADA,KAAA7G,OACS7C,EAAMmZ,MAAMhJ,OADrB,OAEfqF,EAAMxV,EAAM6W,KAAK7hB,MAAMoU,MAFR,KAAAvG,OAGV7C,EAAM6W,KAAKM,WAHD,OAAAtU,OAGiB7C,EAAM6W,KAAK6E,YAH5B,KAAA7Y,OAIV7C,EAAM6W,KAAKc,OAAS,KAAO,OAJjB,KAAA9U,OAKV7C,EAAM6W,KAAK8E,YAChBtU,KAAK,WAyGFsS,IFzNwB,SAAA/D,GAM7B,IAEAC,EAAOwB,EAASY,EAAM7a,EACtByhB,EACAC,EATJjT,EAKI+J,EALJ/J,EACAkN,EAIInD,EAJJmD,OACAza,EAGIsX,EAHJtX,QACAkd,EAEI5F,EAFJ4F,WACAvE,EACIrB,EADJqB,YAEOvN,EAAiBqP,EAAjBrP,MAAOyG,EAAU4I,EAAV5I,OAKR4O,EAAa,SAACvc,EAAQ2F,GAAT,OAChBqN,EAAMqJ,EAAY7pB,MAAMwN,IAAW,eAClCqJ,IAAG1D,KAAI0N,QAAOwB,UAASja,OAAM6a,OAC7B3Z,UAAS2Y,cACTvN,QAAOyG,SACP0G,KAAMhL,EAAEsS,aAGNa,EAAc,SAAA7W,GAClBkP,GACErB,EAAG7N,EAAGwE,QAAUmS,EAAe5U,KAC/BgM,EAAG/N,EAAGyE,QAAUkS,EAAe9U,KAGjCiO,GACEjC,EAAGqB,EAAQrB,EAAIH,EAAMG,EACrBE,EAAGmB,EAAQnB,EAAIL,EAAMK,GAGvB6I,EAAW,YAAa5W,GAExB/K,EAAOia,GAGH4H,EAAY,SAAZA,EAAY9W,GAChB4W,EAAW,UAAW5W,GAEtB1R,OAAO4O,oBAAoB,YAAa2Z,GACxCvoB,OAAO4O,oBAAoB,UAAW4Z,GAEtC3gB,EAAQye,UAAUvB,EAAY,EAAG,IAGnCzC,EAAO3T,iBAAiB,YAAa,SAAA+C,GACnC0W,EAAchT,EAAEsS,UAChBW,EAAiB/F,EAAOvF,wBAExB,IAAMqD,EAAOhL,EAAEsS,UACflH,EAAYH,UAAYD,EAAKM,WAC7BF,EAAYC,YAAcL,EAAK6E,WAC/BzE,EAAY0E,UAAY9E,EAAK8E,UAE7Bve,EAAOyY,GACLG,EAAG7N,EAAGwE,QAAUmS,EAAe5U,KAC/BgM,EAAG/N,EAAGyE,QAAUkS,EAAe9U,KAGjCvT,OAAO2O,iBAAiB,YAAa4Z,GACrCvoB,OAAO2O,iBAAiB,UAAW6Z,GAEnCF,EAAW,YAAa5W,KE6J1B+W,EAAqBrT,IAAGkN,SAAQza,UAASkd,aAAYvE,gBAErDwC,EAAK0F,GAAG,UAAW,kBAAMjE,EAAM5G,YAC/B4G,EAAMiE,GAAG,WAAY,kBAAM1D,EAhPP,IACC,OAgPrBP,EAAMiE,GAAG,YAAatT,EAAE6Q,MACxBxB,EAAMiE,GAAG,YAAatT,EAAEmS,MACxB9C,EAAM/O,OACNuN,EAAIyF,GAAG,OAAQ,SAAChX,EAAI1F,GACdA,EAAK2c,QAAU3c,EAAK4c,OACR5F,EAAK6F,SAASC,MAAMC,KAAK,SAAA3qB,GAAC,OAAK,IAAI4qB,OAAO5qB,GAAI6qB,KAAKjd,EAAK4c,SAEpEnE,EAAMyE,KAAKld,MAIjBiX,EAAIoB,SAMN8E,KAAK/F,KAAK,iBAAiBgG,SAAS,OAAQ,SAAC3N,EAAMjZ,EAAM0a,EAAS2L,GAChE,IAAM7F,EAAOvH,EAAK2H,KAAK,oBAAqB5gB,OAAM0a,UAAS2L,aAe3D,OAbA7F,EAAKqG,cACH5F,MAAOoF,EAASpF,MAAM6F,MACtB5W,KAAMsQ,EAAK2E,SAASkB,EAASnW,MAC7BkR,WACE3Q,MAAO,IACPyG,OAAQ,OAGTgP,GAAG,UAAW,kBAAM1F,EAAKnF,YACzBvR,OAAO,SAAC4W,EAAUD,GACjBF,EAAkBtH,EAAMuH,EAAMC,EAAKC,KAGhCF","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"osjsGui\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"osjsGui\"] = factory();\n\telse\n\t\troot[\"osjsGui\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","module.exports = require(\"regenerator-runtime\");\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() {\n  return this || (typeof self === \"object\" && self);\n})() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() {\n    return this || (typeof self === \"object\" && self);\n  })() || Function(\"return this\")()\n);\n","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\nconst unitValue = (value, unset) => typeof value === 'number'\n  ? `${value}px`\n  : (value === false ? unset : value);\n\nconst boxPropNames = {\n  grow: value => ({flexGrow: value}),\n  shrink: value => ({flexShrink: value}),\n  basis: value => ({flexBasis: unitValue(value, 'auto')}),\n  align: value => ({alignItems: value}),\n  justify: value => ({justifyContent: value}),\n  padding: value => ({margin: unitValue(value, '0')}),\n  margin: value => ({margin: unitValue(value, '0')})\n};\n\n/**\n * A generic OS.js GUI container\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const Element = (props, children = []) => {\n  const givenClassNames = props.class instanceof Array\n    ? props.class\n    : [props.class];\n\n  const classNames = [\n    'osjs-gui',\n    ...givenClassNames\n  ];\n\n  if (props.orientation) {\n    classNames.push('osjs-gui-' + props.orientation);\n  }\n\n  const defaultStyle = typeof props.style === 'string'\n    ? {}\n    : Object.assign({}, props.style || {});\n\n  const style = Object.keys(props).reduce((result, prop) => {\n    const value = boxPropNames[prop]\n      ? boxPropNames[prop](props[prop])\n      : undefined;\n\n    return Object.assign({}, result, value);\n  }, defaultStyle);\n\n  return h('div', {\n    oncreate: props.oncreate,\n    ondestroy: props.ondestroy,\n    class: classNames.filter(s => !!s).join(' '),\n    style\n  }, children);\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A flexbox\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const Box = (props, children) =>\n  h(Element, Object.assign({\n    orientation: 'horizontal'\n  }, props, {\n    class: ['osjs-gui-box', props.class],\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A flexbox container\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const BoxContainer = (props, children) =>\n  h(Element, Object.assign({}, props, {\n    class: ['osjs-gui-box-container', props.class]\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A styled flexbox container\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const BoxStyled = (props, children) =>\n  h(Element, Object.assign({}, props, {\n    class: ['osjs-gui-box-styled', props.class]\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\n/**\n * An icon\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const Icon = (props, children) =>\n  h('i', {\n    'data-icon': typeof props === 'object' ? props.name : undefined,\n    class: 'osjs-icon',\n    style: {\n      backgroundImage: typeof props === 'string' ? `url(${props})` : undefined\n    }\n  });\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\n/**\n * Filter an object based on keys\n * @param {Object} props Props\n * @param {String[]} filterKeys List of keys to filter\n * @return {Object}\n */\nexport const filteredProps = (props, filterKeys) => {\n  const keys = Object.keys(props);\n  const filter = k => filterKeys.indexOf(k) === -1;\n\n  return keys\n    .filter(filter)\n    .reduce((result, k) => Object.assign({\n      [k]: props[k]\n    }, result), {});\n};\n\n/**\n * Creates a double-tap event handler\n * @param {number} [timeout=250] Timeout\n * @return {Function} Handler with => (ev, cb)\n */\nexport const doubleTap = (timeout = 250) => {\n  let tapped = false;\n  let timer;\n\n  return (ev, cb) => {\n    timer = clearTimeout(timer);\n    timer = setTimeout(() => (tapped = false), timeout);\n\n    if (tapped) {\n      ev.preventDefault();\n      return cb(ev);\n    }\n\n    tapped = true;\n\n    return false;\n  };\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\nimport {h} from 'hyperapp';\nimport {filteredProps} from './utils';\nimport {Element} from './components/Element';\n\n/**\n * Creates a new field Element wrapper\n * @param {String} name Field name\n * @param {Object} props Field props\n * @param {Function} cb Callback to create inner element => (props)\n * @param {Function} cb Callback to get value => (event)\n */\nexport const createField = (name, props, defaultProps, cb, cbInput) => {\n  const oninput = props.oninput || function() {};\n  const onchange = props.onchange || function() {};\n  const onkeydown = props.onkeydown || function() {};\n\n  const getValue = cbInput || (ev => [ev.target.value]);\n  const fieldProps = Object.assign(\n    {\n      oninput: ev => oninput(ev, ...getValue(ev)),\n      onchange: ev => onchange(ev, ...getValue(ev)),\n      onkeydown: ev => {\n        if (ev.keyCode === 13 && props.onenter) {\n          props.onenter(ev, ...getValue(ev));\n        }\n        onkeydown(ev);\n      }\n    },\n    defaultProps,\n    filteredProps(props, ['choices', 'label', 'box', 'oninput', 'onchange'])\n  );\n\n  return h(Element, Object.assign({}, props.box || {}, {\n    class: 'osjs-gui-field osjs-gui-' + name\n  }), cb(fieldProps));\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Icon} from './Icon';\nimport {createField} from '../element';\n\n/**\n * A button\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const Button = (props = {}, children = []) => \n  createField('button', props, {\n  }, (fieldProps) => {\n    const inner = [];\n    if (props.icon) {\n      inner.push(h(Icon, props.icon));\n    }\n\n    if (typeof props.label === 'string') {\n      inner.push(h('span', {class: 'osjs-label'}, props.label));\n    }\n\n    return h('button', fieldProps, [\n      ...inner,\n      ...children\n    ]);\n  });\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A progress bar\n * @param {Object} props Properties\n * @param {number} [props.value] The value (percentage)\n * @param {h[]} children Children\n */\nexport const Progressbar = (props, children = []) => {\n  let value = typeof props.value === 'number'\n    ? Math.max(0, Math.abs(props.value)) % 100\n    : 0;\n\n  const c = h('div', {class: 'osjs-gui-progressbar-wrapper'}, [\n    h('div', {\n      className: 'osjs-gui-progressbar-value',\n      style: {\n        width: String(value) + '%'\n      }\n    }),\n    h('div', {\n      className: 'osjs-gui-progressbar-label',\n    }, [\n      h('span', {}, [\n        String(value) + '%'\n      ])\n    ])\n  ]);\n\n  return h(Element, Object.assign({}, props.box || {}, {\n    class: ['osjs-gui-progressbar', props.class]\n  }), [\n    c,\n    ...children\n  ]);\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Icon} from './Icon';\n\nconst ul = (props, children = [], level = 0) => {\n\n  const label = child => {\n    const children = [];\n    if (child.type === 'checkbox' || typeof child.checked === 'boolean') {\n      children.push(h('span', {\n        class: 'osjs-gui-menu-checkbox ' + (child.checked ? 'active' : '')\n      }));\n    } else if (child.icon) {\n      children.push(h(Icon, child.icon));\n    }\n\n    children.push(h('span', {}, child.label));\n\n    return children;\n  };\n\n  const inner = (props, child) => {\n    const className = child.type === 'separator'\n      ? 'osjs-gui-menu-separator'\n      : 'osjs-gui-menu-label ' + (child.disabled ? 'osjs__disabled' : '');\n\n    const children = [\n      h('span', {class: className}, label(child))\n    ];\n\n    if (child.items) {\n      children.push(ul(props, child.items, level + 1));\n    }\n\n    return children;\n  };\n\n  return h('ul', {\n    class: ''\n  }, children.map(\n    child => h('li', {\n      class: 'osjs-gui-menu-entry'\n    }, [\n      h('div', {\n        class: 'osjs-gui-menu-container',\n        'data-has-image': child.icon ? true : undefined,\n        'data-has-children': child.items ? true : undefined,\n        onmouseover: child.items ? props.onshow : undefined,\n        ontouchend: child.items ? props.onshow : undefined,\n        onclick: (ev) => {\n          if (child.items) {\n            return;\n          }\n\n          if (child.onclick) {\n            child.onclick(child, ev);\n          }\n\n          if (props.onclick) {\n            props.onclick(child, ev);\n          }\n        }\n      }, inner(props, child))\n    ])\n  ));\n};\n\n/**\n * Menu tree\n * @property {String} label Label\n * @property {String} [icon] Icon source\n * @property {Function} onclick Click callback\n * @property {MenuItems} [items] Child items\n * @typedef MenuItems\n */\n\n/**\n * A menu\n * @param {Object} props Properties\n * @param {Boolean} [props.visible=true] Visible property\n * @param {Object} [posprops.ition] Position\n * @param {MenuItems} [props.menu] Menu items\n */\nexport const Menu = (props) => h('div', {\n  id: 'osjs-context-menu',\n  className: 'osjs-gui osjs-gui-menu',\n  oncreate: props.oncreate,\n  onupdate: props.onupdate,\n  style: {\n    display: props.visible !== false ? 'block' : 'none',\n    top: props.position ? String(props.position.top) + 'px' : 0,\n    left: props.position ? String(props.position.left) + 'px' : 0\n  }\n}, ul(props, props.menu));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A toolbar\n * @desc Contains entries with spacing\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const Toolbar = (props, children) =>\n  h(Element, Object.assign({\n    orientation: 'vertical'\n  }, props, {\n    class: ['osjs-gui-toolbar', props.class]\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A status bar\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const Statusbar = (props, children) =>\n  h(Element, Object.assign({}, props.box || {}, {\n    class: ['osjs-gui-statusbar', props.class]\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A menubar item\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const MenubarItem = (props, children = []) => {\n  const {onclick, data} = props;\n\n  return h('div', {\n    onclick: (ev) => {\n      if (typeof onclick === 'function') {\n        const parentNode = ev.target.parentNode;\n        const index = Array.prototype.indexOf.call(parentNode.children, ev.target);\n\n        onclick(ev, data || {}, index);\n      }\n    }\n  }, h('span', {}, children));\n};\n\n/**\n * A menubar container\n * @param {Object} props Properties\n * @param {MenubarItem[]} [props.items] Array of object\n * @param {h[]} children Children\n */\nexport const Menubar = (props, children = []) =>\n  h(Element, Object.assign({}, props, {\n    class: ['osjs-gui-menubar', props.class]\n  }), [\n    ...(props.items || []).map(item => h(MenubarItem, {\n      data: item.data,\n      onclick: (item.onclick || props.onclick)\n    }, item.label)),\n    ...children\n  ]);\n","import {h, app} from 'hyperapp'\n\nexport default \nfunction nestable (state, actions, view, tagname) {\n    actions._$r = function () {return {}}\n    return function (props, children) {\n        return h(tagname || 'x-', {\n            key: props.key,\n            id: props.id,\n            class: props.class,\n            oncreate: function (el) {\n                var wired = app(\n                    state,\n                    actions,\n                    function (s, a) {\n                        var v = view(s, a)\n                        if (typeof v === 'function') v = v(el._$p, el._$c)\n                        return v\n                    },\n                    el\n                )\n                el._$p = props\n                el._$c = children\n                el._$r = wired._$r\n                el._$u = wired.uninit\n                wired.init && wired.init(props)\n                props.oncreate && props.oncreate(el)\n            },\n            onupdate: function (el) {\n                el._$p = props\n                el._$c = children\n                el._$r()\n                props.onupdate && props.onupdate(el)\n            },\n            ondestroy: function (el) {\n                el._$u && el._$u()\n            }\n        })\n    }    \n}\n\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport nestable from 'hyperapp-nestable';\nimport {Element} from './Element';\n\nconst onmousedown = (ev, actions, orientation) => {\n  const {target, clientX, clientY} = ev;\n  const pane = target.previousSibling;\n  const {offsetWidth, offsetHeight} = pane;\n  const index = Array.from(target.parentNode.children).indexOf(pane);\n  const maxWidth = pane.parentNode.offsetWidth * 0.8;\n  const maxHeight = pane.parentNode.offsetHeight * 0.8;\n\n  if (index < 0) {\n    return;\n  }\n\n  const mousemove = ev => {\n    ev.preventDefault();\n\n    let size = orientation === 'vertical' ? offsetWidth : offsetHeight;\n\n    if (orientation === 'vertical') {\n      const diffX = ev.clientX - clientX;\n      size = Math.min(maxWidth, size + diffX);\n    } else {\n      const diffY = ev.clientY - clientY;\n      size = Math.min(maxHeight, size + diffY);\n    }\n\n    actions.setSize({index, size});\n  };\n\n  const mouseup = ev => {\n    ev.preventDefault();\n    document.removeEventListener('mousemove', mousemove);\n    document.removeEventListener('mouseup', mouseup);\n  };\n\n  ev.preventDefault();\n  document.addEventListener('mousemove', mousemove);\n  document.addEventListener('mouseup', mouseup);\n};\n\nconst panes = (state, actions, children, orientation) => {\n  const spacers = Array(Math.ceil(children.length / 2))\n    .fill(null)\n    .map(() => h('div', {\n      class: 'osjs-gui-panes-spacer',\n      onmousedown: ev => onmousedown(ev, actions, orientation)\n    }));\n\n  const child = (c, i) => {\n    const w = state.sizes[i] ? String(state.sizes[i]) + 'px' : undefined;\n\n    return h('div', {\n      class: 'osjs-gui-panes-pane',\n      style: {\n        flex: w ? `0 0 ${w}` : w\n      }\n    }, c);\n  };\n\n  return children\n    .map(child)\n    .map((v, i) => [v, spacers[i]])\n    .reduce((a, b) => a.concat(b))\n    .filter(v => typeof v !== 'undefined');\n};\n\nconst view = (state, actions) => (props, children) => {\n  const orientation = props.orientation || 'vertical';\n\n  return h(Element, {\n    orientation,\n    class: 'osjs-gui-panes-inner'\n  }, panes(state, actions, children, orientation));\n};\n\nconst inner = nestable({\n  sizes: []\n}, {\n  init: props => ({sizes: props.sizes || [150]}),\n  setSize: ({index, size}) => state => {\n    const sizes = [].concat(state.sizes);\n    sizes[index] = size;\n    return {sizes};\n  }\n}, view, 'div');\n\n/**\n * Resizable panes\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const Panes = (props, children) => h(inner, {\n  class: 'osjs-gui-panes'\n}, children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {filteredProps, doubleTap} from '../utils';\nimport {Element} from './Element';\nimport {Icon} from './Icon';\n\nconst tapper = doubleTap();\n\nconst createView = props => {\n\n  const cols = (paneIndex) => (row, rowIndex) => {\n    const col = row.columns[paneIndex] || {};\n    const selected = props.selectedIndex === rowIndex;\n    const colIcon = col.icon ? h(Icon, col.icon) : null;\n    const children = [h('span', {}, [typeof col === 'object' ? col.label : col])];\n\n    if (colIcon) {\n      children.unshift(colIcon);\n    }\n\n    return h('div', {\n      'data-has-icon': col.icon ? true : undefined,\n      class: 'osjs-gui-list-view-cell' + (selected ? ' osjs__active' : ''),\n      ontouchstart: (ev) => tapper(ev, () => props.onactivate({data: row.data, index: rowIndex, ev})),\n      ondblclick: (ev) => props.onactivate({data: row.data, index: rowIndex, ev}),\n      onclick: (ev) => props.onselect({data: row.data, index: rowIndex, ev}),\n      oncontextmenu: (ev) => props.oncontextmenu({data: row.data, index: rowIndex, ev}),\n      oncreate: (el) => props.oncreate({data: row.data, index: rowIndex, el})\n    }, children);\n  };\n\n  const pane = (index, col) => h('div', {class: 'osjs-gui-list-view-pane'}, [\n    h('div', {\n      class: 'osjs-gui-list-view-header',\n      style: {\n        display: props.hideColumns ? 'none' : undefined\n      }\n    }, typeof col === 'object' ? col.label : col),\n    h('div', {class: 'rows'}, props.rows.map(cols(index)))\n  ]);\n\n  return h('div', {\n    class: 'osjs-gui-list-view-wrapper',\n    oncreate: el => (el.scrollTop = props.scrollTop),\n    onupdate: el => {\n      if (props.selectedIndex < 0) {\n        el.scrollTop = props.scrollTop;\n      }\n    }\n  }, props.columns.map((c, i) => pane(i, c)));\n};\n\nexport const ListView = props => h(Element, Object.assign({\n  class: 'osjs-gui-list-view'\n}, props.box || {}), createView(filteredProps(props, ['box'])));\n\nexport const listView = ({\n  component: (state, actions) => {\n    const newProps = Object.assign({\n      columns: [],\n      rows: [],\n      onselect: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      onactivate: ({data, index, ev}) => {\n        actions.activate({data, index, ev});\n        actions.setSelectedIndex(-1);\n      },\n      oncontextmenu: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.contextmenu({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      oncreate: (args) => {\n        actions.created(args);\n      }\n    }, state);\n\n    return (props = {}) => ListView(Object.assign(newProps, props));\n  },\n\n  state: state => Object.assign({\n    selectedIndex: -1,\n    scrollTop: 0\n  }, state),\n\n  actions: actions => Object.assign({\n    select: () => () => ({}),\n    activate: () => () => ({}),\n    contextmenu: () => () => ({}),\n    created: () => () => ({}),\n    setRows: rows => ({rows}),\n    setColumns: columns => ({columns}),\n    setScrollTop: scrollTop => state => ({scrollTop}),\n    setSelectedIndex: selectedIndex => state => ({selectedIndex})\n  }, actions || {})\n});\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {doubleTap} from '../utils';\nimport {Element} from './Element';\nimport {Icon} from './Icon';\n\nconst tapper = doubleTap();\n\nexport const IconViewEntry = (entry, index, props) => () => {\n  const icon = entry.icon || {name: 'application-x-executable'};\n  const selected = props.selectedIndex === index;\n\n  return h('div', {\n    class: 'osjs-gui-icon-view-entry' + (selected ? ' osjs__active' : ''),\n    ontouchstart: (ev) => tapper(ev, () => props.onactivate({data: entry.data, index, ev})),\n    ondblclick: (ev) => props.onactivate({data: entry.data, index, ev}),\n    onclick: (ev) => props.onselect({data: entry.data, index, ev}),\n    oncontextmenu: (ev) => props.oncontextmenu({data: entry.data, index, ev}),\n    oncreate: (el) => props.oncreate({data: entry.data, index, el})\n  }, [\n    h('div', {class: 'osjs__container'}, [\n      h('div', {class: 'osjs__image'}, [\n        h(Icon, icon)\n      ]),\n      h('div', {class: 'osjs__label'}, [\n        h('span', {}, entry.label)\n      ])\n    ])\n  ]);\n};\n\nexport const IconView = (props) => {\n  const inner = h('div', {\n    class: 'osjs-gui-icon-view-wrapper',\n    oncreate: el => (el.scrollTop = props.scrollTop),\n    onupdate: el => {\n      if (props.selectedIndex < 0) {\n        el.scrollTop = props.scrollTop;\n      }\n    }\n  }, props.entries.map((entry, index) => {\n    return h(IconViewEntry(entry, index, props));\n  }));\n\n  return h(Element, Object.assign({\n    class: 'osjs-gui-icon-view'\n  }, props.box || {}), inner);\n};\n\nexport const iconView = ({\n  component: (state, actions) => {\n    const newProps = Object.assign({\n      entries: [],\n      onselect: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      onactivate: ({data, index, ev}) => {\n        actions.activate({data, index, ev});\n        actions.setSelectedIndex(-1);\n      },\n      oncontextmenu: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.contextmenu({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      oncreate: (args) => {\n        actions.created(args);\n      }\n    }, state);\n\n    return (props = {}) => IconView(Object.assign(newProps, props));\n  },\n\n  state: state => Object.assign({\n    selectedIndex: -1,\n    scrollTop: 0\n  }, state),\n\n  actions: actions => Object.assign({\n    select: () => () => ({}),\n    activate: () => () => ({}),\n    contextmenu: () => () => ({}),\n    created: () => () => ({}),\n    setEntries: entries => () => ({entries}),\n    setScrollTop: scrollTop => state => ({scrollTop}),\n    setSelectedIndex: selectedIndex => state => ({selectedIndex}),\n  }, actions || {})\n});\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\n/**\n * A image\n * @param {Object} props Properties\n * @param {String} props.src The image source\n * @param {number} [props.width] Image width\n * @param {number} [props.height] Image height\n * @param {Function} [props.onload] On loaded data event\n */\nexport const Image = (props, children) =>\n  h('div', {\n    class: 'osjs-gui osjs-gui-image',\n    style: {\n      width: props.width ? String(props.width) + 'px' : undefined,\n      height: props.height ? String(props.height) + 'px' : undefined\n    }\n  }, [\n    h('img', {\n      src: props.src,\n      width: props.width,\n      height: props.height,\n      onload: props.onload,\n      oncreate: props.oncreate,\n      onupdate: props.onupdate,\n      ondestroy: props.ondestroy\n    })\n  ]);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\nconst sources = list => list.map(item => h('source', item));\n\nconst isTrue = v => typeof v === 'undefined' || v === true;\n\n/**\n * A video\n * @param {Object} props Properties\n * @param {String} [props.class] Append this className\n * @param {Object} [props.style] CSS Style object\n * @param {String} props.src The video source\n * @param {number} [props.width] Video width\n * @param {number} [props.height] Video height\n * @param {String} [props.poster] Poster image source\n * @param {Boolean} [props.loop] Loop video\n * @param {Boolean} [props.autoplay] Autoplay video\n * @param {Boolean} [props.controls] Show controls\n * @param {Function} [props.onloadeddata] On loaded data event\n */\nexport const Video = (props, children) =>\n  h('div', {\n    class: 'osjs-gui osjs-gui-video',\n    style: {\n      width: props.width ? String(props.width) + 'px' : undefined,\n      height: props.height ? String(props.height) + 'px' : undefined\n    }\n  }, [\n    h('video', {\n      src: props.src,\n      width: props.width,\n      height: props.height,\n      poster: props.poster,\n      loop: props.loop ? 'loop' : undefined,\n      muted: props.muted ? 'muted' : undefined,\n      controls: isTrue(props.controls) ? 'controls' : undefined,\n      autoplay: isTrue(props.autoplay) ? 'autoplay' : undefined,\n      onloadeddata: props.onload,\n      oncreate: props.oncreate,\n      onupdate: props.onupdate,\n      ondestroy: props.ondestroy\n    }, sources(props.sources || []))\n  ]);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport nestable from 'hyperapp-nestable';\n\nconst headers = (labels, state, actions) => (labels || [])\n  .map((label, index) => h('div', {\n    class: state.selectedIndex === index ? 'osjs__active' : '',\n    onclick: ev => actions.setSelectedIndex(index)\n  }, h('span', {}, label)));\n\nconst panes = (state, children) => children\n  .map((child, index) => h('div', {\n    class: state.selectedIndex === index ? 'osjs__active' : ''\n  }, child));\n\nconst view = nestable({\n  selectedIndex: 0\n}, {\n  setSelectedIndex: selectedIndex => state => ({selectedIndex})\n}, (state, actions) => (props, children) => h('div', {\n  class: 'osjs-gui-tabs-wrapper'\n}, [\n  h('div', {class: 'osjs-gui-tabs-header'}, headers(props.labels, state, actions)),\n  h('div', {class: 'osjs-gui-tabs-panes'}, panes(state, children))\n]), 'div');\n\n/**\n * A tab container\n * @param {Object} props Properties\n * @param {String[]} props.labels Labels\n * @param {h[]} children Tabs\n */\nexport const Tabs = (props, children) => h(view, Object.assign({\n  class: 'osjs-gui osjs-gui-tabs ' + (props.class || '')\n}, props), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {filteredProps} from '../utils';\nimport {Element} from './Element';\n\n/**\n * A iframe\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const Iframe = (props, children = []) =>\n  h(Element, Object.assign({}, props.box || {}, {\n    class: ['osjs-gui-iframe', props.class]\n  }), [\n    h('iframe', Object.assign({\n      frameborder: 0\n    }, filteredProps(props, ['box']))),\n    ...children\n  ]);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/**\n * A text field\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const TextField = (props = {}, children = []) =>\n  createField('text-field', props, {\n    autocomplete: 'off',\n    autocorrect: 'off',\n    autocapitalize: 'off',\n    spellcheck: 'false',\n    type: 'text'\n  }, (fieldProps) => h('input', fieldProps));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/**\n * A text field\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const TextareaField = (props = {}, children = []) =>\n  createField('textarea-field', props, {\n    rows: 4\n  }, (fieldProps) => h('textarea', fieldProps, children));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/**\n * A text field\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const SelectField = (props = {}, children = []) => {\n  const choices = Object.keys(props.choices || {})\n    .reduce((result, key) => {\n      result.push(h('option', {\n        value: key,\n        selected: props.key === props.choices[key]\n      }, props.choices[key]));\n      return result;\n    }, []);\n\n  const getValue = ev => [ev.target.value, ev.target.textContent];\n  const createSelect = fieldProps => h('div', {}, h('select', fieldProps, [\n    ...choices,\n    ...children\n  ]));\n\n  return createField('select-field', props, {\n    selectedIndex: undefined\n  }, createSelect, getValue);\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/**\n * A text field\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const ToggleField = (props = {}, children = []) =>\n  createField('toggle-field', props, {\n    type: 'checkbox',\n    checked: false\n  }, (fieldProps) => h('label', {\n\n  }, [\n    h('input', fieldProps),\n    h('span', {\n      class: 'osjs-toggle-input'\n    }),\n    h('span', {\n      class: 'osjs-toggle-label'\n    }, [\n      props.label || '',\n      ...children\n    ])\n  ]), ev => [props.type === 'radio'\n    ? JSON.parse(ev.target.value)\n    : !!ev.target.checked]);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/**\n * A text field\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const RangeField = (props = {}, children = []) =>\n  createField('range-field', props, {\n    type: 'range'\n  }, (fieldProps) => h('input', fieldProps));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h, app} from 'hyperapp';\nimport {Menu} from './components/Menu';\n\n/*\n * Makes sure sub-menus stays within viewport\n */\nconst clampSubMenu = (root, ev) => {\n  let ul = ev.target.querySelector('ul');\n  if (!ul) {\n    return;\n  }\n\n  // FIXME: Safari reports wrong item\n  if (ul.classList.contains('osjs-gui-menu-container')) {\n    ul = ul.parentNode.parentNode;\n  }\n\n  if (!ul || !ul.offsetParent) {\n    return;\n  }\n\n  ul.classList.remove('clamp-right');\n\n  const rect = ul.getBoundingClientRect();\n  if (rect.right > root.offsetWidth) {\n    ul.classList.add('clamp-right');\n  }\n};\n\n/*\n * Makes sure menu stays within viewport\n */\nconst clampMenu = (root, el, currentPosition) => {\n  const result = {};\n  const bottom = currentPosition.top + el.offsetHeight;\n  const right = currentPosition.left + el.offsetWidth;\n  const offY = root.offsetHeight - currentPosition.top;\n  const offX = root.offsetWidth - currentPosition.left;\n  const overflowRight = right > root.offsetWidth;\n  const overflowBottom = bottom > root.offsetHeight;\n\n  if (overflowBottom) {\n    result.top = root.offsetHeight - el.offsetHeight - offY;\n  }\n\n  if (overflowRight) {\n    result.left = root.offsetWidth - el.offsetHeight - offX;\n  }\n\n  return (overflowBottom || overflowRight) ? result : null;\n};\n\n/*\n * Context Menu view\n */\nconst view = callback => (props, actions) => h(Menu, {\n  position: props.position,\n  visible: props.visible,\n  menu: props.menu,\n  onclick: callback,\n  onshow: actions.onshow,\n  onupdate: el => actions.clamp(el),\n  oncreate: el => actions.clamp(el)\n});\n\n/**\n * ContextMenu Class\n *\n * @desc Handles a Menu/ContextMenu globally for OS.js\n */\nexport class ContextMenu {\n\n  constructor(core) {\n    this.core = core;\n    this.callback = () => {};\n    this.actions = null;\n  }\n\n  destroy() {\n    this.callback = null;\n    this.actions = null;\n  }\n\n  /**\n   * Initializes the Menu Hyperapp\n   */\n  init() {\n    let clampTimeout;\n\n    this.actions = app({\n      visible: false,\n      menu: [],\n      position: {\n        top: 0,\n        left: 0\n      }\n    }, {\n      clamp: (el) => props => {\n        const root = this.core.$root;\n\n        clearTimeout(clampTimeout);\n        const newPosition = clampMenu(root, el, props.position);\n        if (newPosition) {\n          return {position: newPosition};\n        }\n\n        return {};\n      },\n      onshow: (ev) => props => {\n        clearTimeout(clampTimeout);\n        clampTimeout = setTimeout(() => clampSubMenu(this.core.$root, ev), 1);\n      },\n      show: (options) => props => {\n        let {menu, position} = options;\n        if (position instanceof Event) {\n          position = {left: position.clientX, top: position.clientY};\n        } else if (position instanceof Element) {\n          const box = position.getBoundingClientRect();\n          position = {\n            left: box.left,\n            top: box.top + box.height\n          };\n        }\n\n        this.callback = (...args) => {\n          if (options.callback) {\n            options.callback(...args);\n          }\n\n          this.actions.hide();\n        };\n\n        return {visible: true, menu, position};\n      },\n      hide: () => props => {\n        this.callback = null;\n\n        return {visible: false};\n      }\n    }, view((...args) => {\n      if (!this.core.destroyed) {\n        if (this.callback) {\n          this.callback(...args);\n        }\n      }\n    }), this.core.$root);\n  }\n\n  /**\n   * Show the menu\n   */\n  show(...args) {\n    return this.actions ? this.actions.show(...args) : null;\n  }\n\n  /**\n   * Hide the menu\n   */\n  hide(...args) {\n    return this.actions ? this.actions.hide(...args) : null;\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {ContextMenu} from './contextmenu.js';\n\n/*\n * Check if a target allows for context menu\n */\nconst validContextMenuTarget = ev => {\n  const target = ev.target;\n  let isValid = target.tagName === 'TEXTAREA';\n  if (!isValid && target.tagName === 'INPUT') {\n    isValid = ['text', 'password', 'number', 'email'].indexOf(target.type) !== -1;\n  }\n\n  return isValid;\n};\n\n/**\n * OS.js GUI Service Provider\n *\n * @desc Provides wrapper services around GUI features\n */\nexport class GUIServiceProvider {\n\n  constructor(core) {\n    this.core = core;\n    this.contextmenu = new ContextMenu(core);\n  }\n\n  destroy() {\n    const menu = document.getElementById('osjs-context-menu');\n    if (menu) {\n      menu.remove();\n    }\n\n    this.contextmenu.destroy();\n  }\n\n  async init() {\n    const contextmenuApi = {\n      show: (...args) => this.contextmenu.show(...args),\n      hide: (...args) => this.contextmenu.hide(...args)\n    };\n\n    this.core.instance('osjs/contextmenu', (...args) => {\n      if (args.length) {\n        return contextmenuApi.show(...args);\n      }\n\n      return contextmenuApi;\n    });\n\n    this.core.$root.addEventListener('contextmenu', (ev) => {\n      if (validContextMenuTarget(ev)) {\n        return;\n      }\n\n      ev.stopPropagation();\n      ev.preventDefault();\n    });\n  }\n\n  start() {\n    this.core.$root.addEventListener('click', (ev) => {\n      const menu = document.getElementById('osjs-context-menu');\n      const hit = menu.contains(ev.target);\n\n      if (!hit && this.contextmenu) {\n        this.contextmenu.hide();\n      }\n    }, true);\n\n    this.contextmenu.init();\n  }\n}\n","/**\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport '../index.scss';\nexport * from '../index.js';\n","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","module.exports = __webpack_public_path__ + \"38c77379d50b1d47e120323e2da02ba2.png\";","module.exports = __webpack_public_path__ + \"bebc3e5c6690341a1f408935c5ae17e4.png\";","module.exports = __webpack_public_path__ + \"ad6407e277f4dd401f03d9f27f77c23e.png\";","module.exports = __webpack_public_path__ + \"8461f0598ccdec31da4990e7e0b24d59.png\";","module.exports = __webpack_public_path__ + \"e867b44fab3c019fc933d3b71e95e081.png\";","module.exports = __webpack_public_path__ + \"37df50a5cee85743badf203b85641db6.png\";","module.exports = __webpack_public_path__ + \"2d3e8a1bc4183a36a7e48694681204da.png\";","module.exports = __webpack_public_path__ + \"704f2ba73e802309fc04e156a2079b02.png\";","module.exports = __webpack_public_path__ + \"7a66e63d5fa4cef660240ca674bc586a.png\";","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nconst rgbToHex = (r, g, b) => '#' + [\n  parseInt(r, 10).toString(16),\n  parseInt(g, 10).toString(16),\n  parseInt(b, 10).toString(16)\n].map(val => String(val).padStart(2, '0')).join('');\n\n/*\n * The list of tools\n */\nexport const tools = {\n  pointer: {\n    label: 'Cursor',\n    icon: require('./icons/stock-cursor-16.png')\n  },\n\n  picker: {\n    label: 'Picker',\n    icon: require('./icons/stock-color-pick-from-screen-16.png'),\n\n    mousedown: ({a, ev, start, context, width, height}) => {\n      const px = parseInt(start.x, 10);\n      const py = parseInt(start.y, 10);\n      const data = context.getImageData(0, 0, width, height).data;\n      const index = (px + py * width) * 4;\n\n      const hex = rgbToHex(\n        data[index + 0],\n        data[index + 1],\n        data[index + 2],\n        data[index + 3]\n      );\n\n      if (ev.shiftKey || ev.button > 0) {\n        a.setBackground(hex);\n      } else {\n        a.setForeground(hex);\n      }\n    }\n  },\n\n  fill: {\n    label: 'Fill',\n    icon: require('./icons/stock-tool-bucket-fill-16.png'),\n\n    mousedown: ({ev, context, tool, width, height}) => {\n      const t = (ev.shiftKey || ev.button > 0) ? 'background' : 'foreground';\n      context.fillStyle = tool[t];\n      context.fillRect(0, 0, width, height);\n    }\n  },\n\n  path: {\n    label: 'Path',\n    icon: require('./icons/stock-tool-path-16.png'),\n\n    mousedown: ({tool, tempContext}) => {\n      // Flips the colors\n      tempContext.strokeStyle = tool.foreground;\n    },\n\n    mousemove: ({tempContext, start, current, width, height}) => {\n      tempContext.clearRect(0, 0, width, height);\n      tempContext.beginPath();\n      tempContext.moveTo(current.x, current.y);\n      tempContext.lineTo(start.x, start.y);\n      tempContext.closePath();\n      tempContext.stroke();\n    }\n  },\n\n  pencil: {\n    label: 'Pencil',\n    icon: require('./icons/stock-tool-pencil-16.png'),\n\n    mousedown: ({tool, tempContext}) => {\n      // Flips the colors\n      tempContext.strokeStyle = tool.foreground;\n    },\n\n    mousemove: ({tempContext, prev, current}) => {\n      tempContext.beginPath();\n      tempContext.moveTo(prev.x, prev.y);\n      tempContext.lineTo(current.x, current.y);\n      tempContext.stroke();\n      tempContext.closePath();\n    }\n  },\n\n  rect: {\n    label: 'Rectangle',\n    icon: require('./icons/stock-shape-rectangle-16.png'),\n\n    mousemove: ({tool, tempContext, current, diff, start, width, height}) => {\n      tempContext.clearRect(0, 0, width, height);\n      tempContext.fillRect(start.x, start.y, diff.x, diff.y);\n      if (tool.stroke) {\n        tempContext.strokeRect(start.x, start.y, diff.x, diff.y);\n      }\n    }\n  },\n\n  square: {\n    label: 'Square',\n    icon: require('./icons/stock-shape-square-16.png'),\n\n    mousemove: ({tool, tempContext, current, diff, start, width, height}) => {\n      tempContext.clearRect(0, 0, width, height);\n\n      const w = Math.abs(current.x - start.x) * (current.x < start.x ? -1 : 1);\n      const h = Math.abs(w) * (current.y < start.y ? -1 : 1);\n\n      tempContext.fillRect(start.x, start.y, w, h);\n      if (tool.stroke) {\n        tempContext.strokeRect(start.x, start.y, w, h);\n      }\n    }\n  },\n\n  oval: {\n    label: 'Oval',\n    icon: require('./icons/stock-shape-ellipse-16.png'),\n\n    mousemove: ({tool, tempContext, current, diff, start, width, height}) => {\n      tempContext.clearRect(0, 0, width, height);\n\n      tempContext.beginPath();\n      tempContext.moveTo(start.x, start.y - diff.y * 2); // A1\n      tempContext.bezierCurveTo(\n        start.x + diff.x * 2, start.y - diff.y * 2, // C1\n        start.x + diff.x * 2, start.y + diff.y * 2, // C2\n        start.x, start.y + diff.y * 2); // A2\n\n      tempContext.bezierCurveTo(\n        start.x - diff.x * 2, start.y + diff.y * 2, // C3\n        start.x - diff.x * 2, start.y - diff.y * 2, // C4\n        start.x, start.y - diff.y * 2); // A1\n\n      tempContext.closePath();\n      if (tool.stroke) {\n        tempContext.stroke();\n      }\n      tempContext.fill();\n    }\n  },\n\n  circle: {\n    label: 'Circle',\n    icon: require('./icons/stock-shape-circle-16.png'),\n\n    mousemove: ({tool, tempContext, current, diff, start, width, height}) => {\n      tempContext.clearRect(0, 0, width, height);\n\n      const x = Math.abs(start.x - current.x);\n      const y = Math.abs(start.y - current.y);\n      const r = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n\n      if (r > 0) {\n        tempContext.beginPath();\n        tempContext.arc(start.x, start.y, r, 0, Math.PI * 2, true);\n        tempContext.closePath();\n        if (tool.stroke) {\n          tempContext.stroke();\n        }\n        tempContext.fill();\n      }\n    }\n  }\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {tools} from './tool.js';\n\n/*\n * Creates a new canvas with context\n */\nexport const createCanvas = (width, height, className) => {\n  const canvas = document.createElement('canvas');\n  canvas.className = className;\n  canvas.width = width;\n  canvas.height = height;\n\n  return [\n    canvas,\n    canvas.getContext('2d')\n  ];\n};\n\n/*\n * Binds and resolves events to canvas actions\n */\nexport const createCanvasActions = ({\n  a,\n  canvas,\n  context,\n  tempCanvas,\n  tempContext\n}) => {\n  const {width, height} = canvas;\n  let start, current, diff, prev;\n  let currentTool;\n  let canvasPosition;\n\n  const toolAction = (action, ev) =>\n    (tools[currentTool.name][action] || function() {})({\n      a, ev, start, current, prev, diff,\n      context, tempContext,\n      width, height,\n      tool: a.getTool()\n    });\n\n  const onmousemove = ev => {\n    current = {\n      x: ev.clientX - canvasPosition.left,\n      y: ev.clientY - canvasPosition.top\n    };\n\n    diff = {\n      x: current.x - start.x,\n      y: current.y - start.y\n    };\n\n    toolAction('mousemove', ev);\n\n    prev = current;\n  };\n\n  const onmouseup = ev => {\n    toolAction('mouseup', ev);\n\n    window.removeEventListener('mousemove', onmousemove);\n    window.removeEventListener('mouseup', onmouseup);\n\n    context.drawImage(tempCanvas, 0, 0);\n  };\n\n  canvas.addEventListener('mousedown', ev => {\n    currentTool = a.getTool();\n    canvasPosition = canvas.getBoundingClientRect();\n\n    const tool = a.getTool();\n    tempContext.fillStyle = tool.foreground;\n    tempContext.strokeStyle = tool.background;\n    tempContext.lineWidth = tool.lineWidth;\n\n    prev = start = {\n      x: ev.clientX - canvasPosition.left,\n      y: ev.clientY - canvasPosition.top\n    };\n\n    window.addEventListener('mousemove', onmousemove);\n    window.addEventListener('mouseup', onmouseup);\n\n    toolAction('mousedown', ev);\n  });\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {\n  h,\n  app\n} from 'hyperapp';\n\nimport {\n  BoxContainer,\n  TextField\n} from '@osjs/gui';\n\nconst createResizePopup = (image) => ([\n  {\n    width: image.width,\n    height: image.height\n  },\n  {\n    setWidth: width => state => ({width: parseInt(width, 10)}),\n    setHeight: height => state => ({height: parseInt(height, 10)})\n  },\n  (state, actions) => ([\n    h(BoxContainer, {orientation: 'horizontal'}, [\n      h('div', {}, 'Width'),\n      h(TextField, {type: 'number', value: state.width, oninput: (ev, value) => actions.setWidth(value)}),\n    ]),\n    h(BoxContainer, {orientation: 'horizontal'}, [\n      h('div', {}, 'Height'),\n      h(TextField, {type: 'number', value: state.height, oninput: (ev, value) => actions.setHeight(value)})\n    ])\n  ])\n]);\n\nconst popupTypes = {\n  resize: actions => createResizePopup(actions.getImage())\n};\n\nexport const popupFactory = (core, proc, win) => (name, actions, cb) => {\n  const found = popupTypes[name];\n  if (!found) {\n    return;\n  }\n\n  const dialog = core.make('osjs/dialogs').create({\n    className: name,\n    buttons: ['ok', 'cancel'],\n    window: {\n      title: name,\n      modal: true,\n      parent: win,\n      gravity: 'center',\n      dimension: {width: 300, height: 300},\n      attributes: {modal: true}\n    }\n  }, () => {\n    return dialog.app.getState();\n  }, (btn, value) => {\n    if (btn === 'ok') {\n      cb(value);\n    }\n  });\n\n  dialog.render(($content, dwin) => {\n    const [initialState, initialActions, children] = found(actions);\n\n    dialog.app = app(\n      Object.assign({}, initialState),\n      Object.assign({getState: () => state => state}, initialActions),\n      (state, actions) => dialog.createView([\n        h(BoxContainer, {grow: 1, orientation: 'horizontal'}, children(state, actions))\n      ]),\n      $content\n    );\n\n    dwin.focus();\n  });\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport './index.scss';\n\nconst DEFAULT_WIDTH = 640;\nconst DEFAULT_HEIGHT = 480;\n\nimport {h, app} from 'hyperapp';\nimport {\n  Box,\n  BoxStyled,\n  Menubar,\n  MenubarItem,\n  Toolbar,\n  Statusbar,\n  ToggleField,\n  SelectField,\n  Button\n} from '@osjs/gui';\nimport {createCanvas, createCanvasActions} from './canvas.js';\nimport {popupFactory} from './popup.js';\nimport {tools} from './tool.js';\n\n/*\n * Creates the toolbar buttons\n */\nconst createToolButtons = (current, actions, proc) => Object.keys(tools)\n  .map(name => h(Button, {\n    icon: proc.resource(tools[name].icon),\n    label: tools[name].label,\n    active: current && current.name === name,\n    onclick: () => actions.buttonTool(name)\n  }));\n\n/*\n * Creates file menu items\n */\nconst createFileMenu = (current, actions) => ([\n  {label: 'New', onclick: () => actions.menuNew()},\n  {label: 'Open', onclick: () => actions.menuOpen()},\n  {label: 'Save', disabled: !current, onclick: () => actions.menuSave()},\n  {label: 'Save As...', onclick: () => actions.menuSaveAs()},\n  {label: 'Quit', onclick: () => actions.menuQuit()}\n]);\n\n/*\n * Creates the image menu items\n */\nconst createImageMenu = actions => ([\n  {label: 'Resize Scaled', onclick: () => actions.menuResizeImage()},\n  {label: 'Resize Canvas', onclick: () => actions.menuResizeCanvas()}\n]);\n\n/*\n * Creates the application\n */\nconst createApplication = (core, proc, win, $content) => {\n  const vfs = core.make('osjs/vfs');\n  const popup = popupFactory(core, proc, win);\n  const colorDialog = (color, cb) => core.make('osjs/dialog', 'color', {\n    color\n  }, (btn, value) => {\n    if (btn === 'ok') {\n      cb(value.hex);\n    }\n  });\n\n  const basic = core.make('osjs/basic-application', proc, win, {\n    defaultFilename: 'New Image.png'\n  });\n\n  const menu = (ev, menu) => core.make('osjs/contextmenu').show({\n    position: ev.target,\n    menu\n  });\n\n  const [canvas, context] = createCanvas(DEFAULT_WIDTH, DEFAULT_HEIGHT, 'render-canvas');\n  const [tempCanvas, tempContext] = createCanvas(DEFAULT_WIDTH, DEFAULT_HEIGHT, 'temp-canvas');\n\n  const view = (state, actions) =>\n    h(Box, {}, [\n      h(Menubar, {}, [\n        h(MenubarItem, {onclick: ev => actions.menuFile(ev)}, 'File'),\n        h(MenubarItem, {onclick: ev => actions.menuImage(ev)}, 'Image')\n      ]),\n      h(Box, {grow: 1, shrink: 1, orientation: 'vertical'}, [\n        h(Toolbar, {\n          class: 'draw-tools',\n          orientation: 'horizontal'\n        }, [\n          ...createToolButtons(state.tool, actions, proc),\n          h(Button, {}, [\n            h('div', {\n              style: {height: '1em', backgroundColor: state.tool.foreground},\n              onclick: () => actions.buttonForeground()\n            })\n          ]),\n          h(Button, {}, [\n            h('div', {\n              style: {height: '1em', backgroundColor: state.tool.background},\n              onclick: () => actions.buttonBackground()\n            })\n          ]),\n          h(ToggleField, {\n            label: 'Stroke',\n            checked: state.tool.stroke,\n            onchange: (ev, value) => actions.setStroke(value)\n          }),\n          h(SelectField, {\n            choices: {\n              1: 1,\n              2: 2,\n              3: 3,\n              4: 4,\n              5: 5\n            },\n            value: state.tool.lineWidth,\n            onchange: (ev, value) => actions.setLineWidth(value)\n          })\n        ]),\n        h(BoxStyled, {class: 'draw-container', grow: 1}, h('div', {\n          class: 'draw-area',\n          oncreate: el => {\n            el.appendChild(canvas);\n            el.appendChild(tempCanvas);\n          }\n        }))\n      ]),\n      h(Statusbar, {}, [\n        `${state.image.width}x${state.image.height} px`,\n        tools[state.tool.name].label,\n        `F:${state.tool.foreground} B:${state.tool.background}`,\n        `S:${state.tool.stroke ? 'on' : 'off'}`,\n        `L:${state.tool.lineWidth}`\n      ].join(' - '))\n    ]);\n\n  const setCanvasSize = (width, height) => {\n    canvas.width = width;\n    canvas.height = height;\n    tempCanvas.width = width;\n    tempCanvas.height = height;\n  };\n\n  const resizeCanvasScale = ({width, height}) => {\n    const [cv, cc] = createCanvas(canvas.width, canvas.height, '');\n    cc.drawImage(canvas, 0, 0);\n    setCanvasSize(width, height);\n    context.drawImage(cv, 0, 0, width, height);\n  };\n\n  const resizeCanvasSize = ({width, height}) => {\n    const [cv, cc] = createCanvas(canvas.width, canvas.height, '');\n    cc.drawImage(canvas, 0, 0);\n    setCanvasSize(width, height);\n    context.drawImage(cv, 0, 0);\n  };\n\n  const setCanvasImage = img => {\n    setCanvasSize(img.width, img.height);\n    context.drawImage(img, 0, 0);\n  };\n\n  const a = app({\n    image: {\n      width: DEFAULT_WIDTH,\n      height: DEFAULT_HEIGHT\n    },\n    tool: {\n      name: 'pointer',\n      foreground: '#000000',\n      background: '#ffffff',\n      stroke: false,\n      lineWidth: 1\n    }\n  }, {\n    menuFile: ev => (state, actions) => menu(ev, createFileMenu(proc.args.file, actions)),\n    menuImage: ev => (state, actions) => menu(ev, createImageMenu(actions)),\n    menuNew: () => () => basic.createNew(),\n    menuOpen: () => () => basic.createOpenDialog(),\n    menuSave: () => (state, actions) => actions.save(),\n    menuSaveAs: () => () => basic.createSaveDialog(),\n    menuQuit: () => () => proc.destroy(),\n\n    menuResizeImage: () => (state, actions) => popup('resize', actions, ({width, height}) => {\n      resizeCanvasScale({width, height});\n      actions.setSize({width, height});\n    }),\n\n    menuResizeCanvas: () => (state, actions) => popup('resize', actions, ({width, height}) => {\n      resizeCanvasSize({width, height});\n      actions.setSize({width, height});\n    }),\n\n    buttonForeground: () => (state, actions) => colorDialog(state.tool.foreground, color => {\n      actions.setForeground(color);\n    }),\n\n    buttonBackground: () => (state, actions) => colorDialog(state.tool.background, color => {\n      actions.setBackground(color);\n    }),\n\n    buttonTool: name => (state,  actions) => {\n      //(tools[name].select || function() {})(refArguments);\n      actions.setTool(name);\n    },\n\n    loadImage: (url) => (state, actions) => {\n      const img = new Image();\n      img.onload = () => {\n        setCanvasImage(img);\n        actions.setSize({width: img.width, height: img.height});\n      };\n      img.src = url;\n    },\n\n    save: () => state => {\n      if (proc.args.file) {\n        canvas.toBlob(blob => {\n          vfs.writefile(proc.args.file, blob)\n            .catch(error => console.error(error)); // FIXME: Dialog\n        });\n      }\n    },\n\n    load: item => (state, actions) => {\n      vfs.url(item)\n        .then(url => actions.loadImage(url))\n        .catch(error => console.error(error)); // FIXME: Dialog\n    },\n\n    setSize: size => state => ({image: size}),\n    setTool: name => state => ({tool: Object.assign({}, state.tool, {name})}),\n    setForeground: foreground => state => ({tool: Object.assign({}, state.tool, {foreground})}),\n    setBackground: background => state => ({tool: Object.assign({}, state.tool, {background})}),\n    setStroke: stroke => state => ({tool: Object.assign({}, state.tool, {stroke})}),\n    setLineWidth: lineWidth => state => ({tool: Object.assign({}, state.tool, {lineWidth})}),\n    getTool: () => state => state.tool,\n    getImage: () => state => state.image\n  }, view, $content);\n\n  createCanvasActions({a, canvas, context, tempCanvas, tempContext});\n\n  proc.on('destroy', () => basic.destroy());\n  basic.on('new-file', () => setCanvasSize(DEFAULT_WIDTH, DEFAULT_HEIGHT));\n  basic.on('save-file', a.save);\n  basic.on('open-file', a.load);\n  basic.init();\n  win.on('drop', (ev, data) => {\n    if (data.isFile && data.mime) {\n      const found = proc.metadata.mimes.find(m => (new RegExp(m)).test(data.mime));\n      if (found) {\n        basic.open(data);\n      }\n    }\n  });\n  win.focus();\n};\n\n/*\n * Register package\n */\nOSjs.make('osjs/packages').register('Draw', (core, args, options, metadata) => {\n  const proc = core.make('osjs/application', {args, options, metadata});\n\n  proc.createWindow({\n    title: metadata.title.en_EN,\n    icon: proc.resource(metadata.icon),\n    dimension: {\n      width: 500,\n      height: 500\n    }\n  })\n    .on('destroy', () => proc.destroy())\n    .render(($content, win) => {\n      createApplication(core, proc, win, $content);\n    });\n\n  return proc;\n});\n"],"sourceRoot":""}